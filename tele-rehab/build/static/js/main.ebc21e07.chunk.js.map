{"version":3,"sources":["img/Tele-Rehab.svg","components/Header/FrontPageHeader.js","components/FrontPage/Banner.jsx","img/About/about-photo.png","components/FrontPage/About.jsx","components/FrontPage/Questions.jsx","components/Footer/FooterBottom.jsx","components/Footer/Footer.jsx","components/FrontPage/FrontPage.js","components/AdminPanel/Categories/Categories.js","components/AdminPanel/CategoryList/CategoryList.js","components/AdminPanel/SelectUser/SelectUser.js","components/AdminPanel/AppointmentsList/AppointmentsList.js","components/AdminPanel/VideoCard/VideoCard.js","components/AdminPanel/UsersRegistration/UsersRegistration.js","components/AdminPanel/UsersList/UsersList.js","img/Tele-Rehab-black.svg","components/Header/PersonAreaHeader.js","components/AdminPanel/AdminPanel.js","components/PersonArea/PersonArea.jsx","components/VideoChat/VideoChat.js","App.js","reportWebVitals.js","index.js"],"names":["customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","FrontPageHeader","history","useHistory","React","useState","modalIsOpen","setIsOpen","users","setUsers","emailUser","setEmail","passwordUser","setPassword","errorMsg","setErrorMsg","currentUser","setCurrentUser","openModal","a","fetch","method","mode","headers","response","json","data","closeModal","useEffect","localStorage","getItem","className","isOpen","onAfterOpen","onRequestClose","style","contentLabel","name","onSubmit","e","preventDefault","console","log","forEach","item","email","password","_id","setItem","push","pathname","signIn","id","onChange","target","value","type","onClick","width","height","viewBox","fill","xmlns","d","fill-opacity","to","src","logo","alt","for","href","Banner","undefined","setName","phone","setPhone","birthday","setBirthday","comment","setComment","errorForm","setErrorForm","msg","setMsg","file","setFile","event","formData","isError","i","sendMessage","body","JSON","stringify","then","res","messageSuccess","catch","err","encType","submitForm","onFocus","document","getElementById","display","onBlur","htmlFor","placeholder","accept","reader","FileReader","fileLoaded","files","FormData","append","onloadend","filename","readAsDataURL","changeFile","About","about","Questions","FooterBottom","Footer","sendMsg","FrontPage","useStyles","makeStyles","theme","root","margin","spacing","formControl","marginLeft","minWidth","backgroundColor","selectEmpty","marginTop","Categories","props","classes","categories","setCategories","parentCategoryId","setParentCategoryId","categoryName","setCategoryName","isChanged","setChanged","changebleCategory","setChangebleCategory","getCategories","addCategory","categoriesList","children","ObjectID","toHexString","parent","deleteCategory","parentCategory","index","splice","changeCategoryName","parentId","map","child","TextField","label","variant","FormControl","InputLabel","Select","labelId","MenuItem","Button","color","autoFocus","defaultValue","onDoubleClick","maxWidth","palette","background","paper","nested","paddingLeft","selectedItem","CategoriesList","open","setOpen","List","component","aria-labelledby","ListItem","button","ListItemText","primary","Collapse","in","timeout","unmountOnExit","disablePadding","selectedCategory","setSelectCategory","SelectUser","selectedUser","setSelectedUser","user","VideosList","videos","setVideos","modifiedVideos","setModifiedVideos","length","isInclude","j","appointments","review","repeat","days","selected","updateUser","statusCourse","formDataFile","newSelectedUser","attachment","setVideoSelected","newModifiedVideos","setReview","setCountRepeat","setCountDays","category","videoId","url","match","getId","frameBorder","allowFullScreen","multiline","rows","InputProps","inputProps","min","InputLabelProps","shrink","VideoCard","setIsReady","setSelectedCategory","underCategories","setUnderCategories","videoURL","setVideoURL","setCategory","filtredVideos","filterCategory","setFilterCategory","changebleVideo","setChangebleVideo","getVideos","renderVideos","deleteVideo","responseCategories","dataCategories","changeVideoName","videosList","video","defaultChecked","addVideo","UsersRegistration","diagnosis","setDiagnosis","getUsers","result","every","emailValidation","indexOf","signUp","UsersList","userId","PersonAreaHeader","window","location","origin","logo2","flexGrow","alignItems","AdminPanel","setValue","AppBar","position","Tabs","newValue","aria-label","Tab","a11yProps","TabPanel","CategoryList","other","role","hidden","Box","p","PersonArea","setUser","isReady","isAdmin","setIsAdmin","categoriesName","setCategoriesName","commentSingle","setCommentSingle","validationFull","setValidationFull","validationSingle","setValidationSingle","afterOpenModal","getCategoriesName","state","comments","indexAppoint","renderFunc","currCategory","element","title","allow","sendCommentSingle","responseNew","dataNew","aria-hidden","focusable","data-prefix","data-icon","video_chat_url","doctorId","sendComment","action","sendCourseFinish","VideoChat","me","setMe","socket","setSocket","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","callEnded","myVideo","useRef","userVideo","connectionRef","io","connect","navigator","mediaDevices","getUserMedia","audio","current","srcObject","on","error","from","signal","callUser","peer","Peer","initiator","trickle","emit","userToCall","signalData","textAlign","playsInline","muted","ref","autoPlay","App","path","exact","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.ebc21e07.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Tele-Rehab.0047d487.svg\";","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Route, Link, useHistory } from \"react-router-dom\";\r\nimport ReactDOM from 'react-dom';\r\nimport Modal from 'react-modal';\r\n// import HeaderMenu from './HeaderMenu';\r\nimport logo from '../../img/Tele-Rehab.svg'\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)'\r\n  }\r\n};\r\n\r\nModal.setAppElement('#root')\r\n\r\nconst FrontPageHeader = () => {\r\n  const history = useHistory();\r\n\r\n  const [modalIsOpen, setIsOpen] = React.useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const [emailUser, setEmail] = useState(\"\");\r\n  const [passwordUser, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const [currentUser, setCurrentUser] = useState(\"\");\r\n  \r\n  useEffect(async () => {\r\n    if (localStorage.getItem(\"user\")) {\r\n      setCurrentUser(localStorage.getItem(\"user\"));\r\n    }\r\n  }, [])\r\n\r\n  async function openModal() {\r\n    setIsOpen(true);\r\n    let response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n    let data = await response.json();\r\n    await setUsers(data);\r\n  }\r\n  function afterOpenModal() {\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpen(false);\r\n  }\r\n  function signIn(e) {\r\n    e.preventDefault();\r\n    console.log(users);\r\n    users.forEach((item) => {\r\n      const { email, password, name, _id } = item;\r\n      if (email === emailUser && password === passwordUser) {\r\n        localStorage.setItem(\"user\", name);\r\n        localStorage.setItem(\"id\", _id);\r\n        history.push({\r\n          pathname: \"/personal\"\r\n        })\r\n      } else {\r\n        setErrorMsg(\"Email или пароль не совпадают*\")\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <header className=\"header header-frontpage\">\r\n      <div>\r\n        <Modal\r\n          isOpen={modalIsOpen}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\">\r\n          <h2 className=\"popup-title\">Зайти в личный кабинет</h2>\r\n          <form name=\"login-form\" onSubmit={(e) => signIn(e)} id=\"login-form\">\r\n            <label>{!errorMsg ? \"Email\" : <span className=\"error-message\">{errorMsg}</span>}</label>\r\n            <input onChange={(e) => setEmail(e.target.value)}></input>\r\n            <label>{!errorMsg ? \"Пароль\" : <span className=\"error-message\">{errorMsg}</span>}</label>\r\n            <input onChange={(e) => setPassword(e.target.value)}></input>\r\n            <button type=\"submit\" className=\"btn\">Вход</button>\r\n          </form>\r\n          <button className=\"popup-close\" onClick={closeModal}>\r\n            <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M7.45868 6L11.5407 1.91797C11.7344 1.72458 11.8434 1.46215 11.8437 1.18841C11.8439 0.914677 11.7354 0.652056 11.542 0.458324C11.3486 0.264592 11.0862 0.155618 10.8124 0.155376C10.5387 0.155135 10.2761 0.263644 10.0824 0.457035L6.00032 4.53906L1.91829 0.457035C1.72456 0.263302 1.4618 0.154465 1.18782 0.154465C0.913845 0.154465 0.651088 0.263302 0.457355 0.457035C0.263623 0.650767 0.154785 0.913524 0.154785 1.1875C0.154785 1.46148 0.263623 1.72424 0.457355 1.91797L4.53939 6L0.457355 10.082C0.263623 10.2758 0.154785 10.5385 0.154785 10.8125C0.154785 11.0865 0.263623 11.3492 0.457355 11.543C0.651088 11.7367 0.913845 11.8455 1.18782 11.8455C1.4618 11.8455 1.72456 11.7367 1.91829 11.543L6.00032 7.46094L10.0824 11.543C10.2761 11.7367 10.5388 11.8455 10.8128 11.8455C11.0868 11.8455 11.3496 11.7367 11.5433 11.543C11.737 11.3492 11.8459 11.0865 11.8459 10.8125C11.8459 10.5385 11.737 10.2758 11.5433 10.082L7.45868 6Z\" fill=\"black\" fill-opacity=\"0.19\" />\r\n            </svg>\r\n          </button>\r\n        </Modal>\r\n      </div>\r\n      <div className=\"container\">\r\n        <div className=\"header-wrap\">\r\n          <div className=\"header-logo\">\r\n            <Link to=\"/\"><img src={logo} alt=\"logo\" /></Link>\r\n          </div>\r\n          <div className=\"header-menu\">\r\n            <div className=\"header-menu\">\r\n              <nav className=\"hamburger-menu\">\r\n                <input id=\"menu__toggle\" type=\"checkbox\" />\r\n                <label className=\"menu__btn\" for=\"menu__toggle\">\r\n                  <span></span>\r\n                </label>\r\n                <ul className=\"header-menu__list menu__box\">\r\n                  {/* <li><a className=\"menu__item menu__item_mob\" href=\"#\"><img src=\"img/logo-header.svg\" alt=\"Logo\"></a></li>  */}\r\n                  <li><Link to=\"/\" className=\"menu__item\">Главная</Link></li>\r\n                  <li><a className=\"menu__item\" href=\"#about\">О проекте</a></li>\r\n                  <li><a className=\"menu__item\" href=\"#questions\">Вопрос-ответ</a></li>\r\n                  <li><a className=\"menu__item\" href=\"#footer\">Контакты</a></li>\r\n                  <li className=\"mobile menu__item\">{currentUser ? <Link to=\"/personal\" >Привет, {currentUser}</Link> : <button onClick={openModal} className=\"header-log__btn btn\" href=\"#\">Кабинет</button>}</li>\r\n                </ul>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n          <div className=\"header-log\">\r\n            {currentUser ? <Link to=\"/personal\" className=\"user-sign-in\">Привет, {currentUser}</Link> : <button onClick={openModal} className=\"header-log__btn btn\" href=\"#\">Кабинет</button>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default FrontPageHeader;","import React, { useEffect, useState } from 'react';\r\nconst Banner = () => {\r\n    const [name, setName] = useState(undefined);\r\n    const [phone, setPhone] = useState(undefined);\r\n    const [email, setEmail] = useState(undefined);\r\n    const [birthday, setBirthday] = useState(undefined);\r\n    const [comment, setComment] = useState(undefined);\r\n    const [errorForm, setErrorForm] = useState(false);\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [file, setFile] = useState({});\r\n\r\n    function focusClick(e) {\r\n        e.preventDefault();\r\n        let nameLabel = document.getElementById(\"name-label\");\r\n        nameLabel.style.display = \"none\";\r\n    }\r\n    function focusPhoneClick(e) {\r\n        let phoneLabel = document.getElementById(\"phone-label\");\r\n        phoneLabel.style.display = \"none\";\r\n    }\r\n    function focusEmailClick(e) {\r\n        let emailLabel = document.getElementById(\"email-label\");\r\n        emailLabel.style.display = \"none\";\r\n    }\r\n    function onFocusClick(e) {\r\n        e.preventDefault();\r\n        let inputName = document.getElementById(\"banner-name\");\r\n        if (inputName.value === '') {\r\n            let nameLabel = document.getElementById(\"name-label\");\r\n            nameLabel.style.display = \"block\";\r\n        }\r\n    }\r\n    function onFocusPhoneClick(e) {\r\n        e.preventDefault();\r\n        let inputPhone = document.getElementById(\"banner-phone\");\r\n        if (inputPhone.value === '') {\r\n            let phoneLabel = document.getElementById(\"phone-label\");\r\n            phoneLabel.style.display = \"block\";\r\n        }\r\n    }\r\n    function onFocusEmailClick(e) {\r\n        e.preventDefault();\r\n        let inputEmail = document.getElementById(\"banner-email\");\r\n        if (inputEmail.value === '') {\r\n            let emailLabel = document.getElementById(\"email-label\");\r\n            emailLabel.style.display = \"block\";\r\n        }\r\n    }\r\n\r\n    function changeFile(e) {\r\n        let reader = new FileReader();\r\n        let fileLoaded = e.target.files[0];\r\n        console.log(e.target.files[0]);\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"form-file\", e.target.files[0])\r\n\r\n        reader.onloadend = () => {\r\n            fetch(`https://tele-rehab-api.vps-touchit.space/upload`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                body: formData\r\n            }).then(async (res) => {\r\n                const file = await res.json();\r\n                console.log(file);\r\n                // setFile(e.target.files[0])\r\n                setFile(file.filename);\r\n            })\r\n\r\n        }\r\n\r\n        reader.readAsDataURL(fileLoaded);\r\n    }\r\n    async function submitForm(event) {\r\n        event.preventDefault();\r\n        await setErrorForm(false);\r\n        const formData = {\r\n            name,\r\n            phone,\r\n            email,\r\n            birthday,\r\n            comment,\r\n            file: file\r\n        }\r\n        console.log(formData);\r\n        var isError = false;\r\n        for (let i in formData) {\r\n            console.log(1);\r\n            if (formData[i] === undefined) {\r\n                isError = true;\r\n                console.log(isError);\r\n                await setErrorForm(true);\r\n            }\r\n        }\r\n        console.log(isError);\r\n        await sendMessage(formData, isError);\r\n\r\n    }\r\n\r\n    async function sendMessage(formData, isError) {\r\n        console.log(\"formData\",formData);\r\n        console.log(isError);\r\n        if (!isError) {\r\n            console.log(formData);\r\n            await fetch(`https://tele-rehab-api.vps-touchit.space/send/`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(formData)\r\n            })\r\n                .then(async (res) => { console.log(await res.json());messageSuccess(); })\r\n                .catch((err) => { console.log(err) })\r\n        } else {\r\n            console.log(isError);\r\n        }\r\n    }\r\n\r\n    function messageSuccess() {\r\n        setMsg(\"Форма успешно отправлена\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"banner-section\">\r\n            <div className=\"container\">\r\n                <div className=\"banner-wrap\">\r\n                    <div className=\"banner-info\">\r\n                        <h1 className=\"banner-info__title\">Видео реабилитация и программы онлайн</h1>\r\n                        <p className=\"banner-info__subtitle\">Более детальное но краткое описание что это за сайт и чем\r\n                        он может помочь пользователю. Более детальное но краткое описание что это за сайт и чем он может помочь пользователю Более детальное но краткое описание что это за сайт и чем\r\n                он может помочь пользователю</p>\r\n                    </div>\r\n                    <div className=\"banner-form form-banner\">\r\n                        <div className=\"form-wrap\">\r\n                            <form encType=\"multipart/form-data\" onSubmit={(event) => submitForm(event)} name=\"banner-form\" id=\"banner-form\">\r\n                                <p className=\"form-banner__title\">Пройти регистрацию</p>\r\n                                <div className=\"form-item\">\r\n                                    <div className=\"form-item__wrap\">\r\n                                        <input type=\"text\" name=\"name\" onChange={(e) => setName(e.target.value)} id=\"banner-name\" onFocus={focusClick} onBlur={onFocusClick} />\r\n                                        <label htmlFor=\"banner-name\" id=\"name-label\">ФИО <span>*</span></label>\r\n                                    </div>\r\n                                    <div className=\"form-item__wrap\">\r\n                                        <input id=\"banner-phone\" name=\"phone\" type=\"tel\" onChange={(e) => setPhone(e.target.value)} onFocus={focusPhoneClick} onBlur={onFocusPhoneClick} />\r\n                                        <label htmlFor=\"banner-phone\" id=\"phone-label\">Номер телефона <span>*</span></label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"form-item\">\r\n                                    <div className=\"form-item__wrap\">\r\n                                        <input type=\"email\" name=\"email\" id=\"banner-email\" onChange={(e) => setEmail(e.target.value)} onFocus={focusEmailClick} onBlur={onFocusEmailClick} />\r\n                                        <label htmlFor=\"banner-email\" id=\"email-label\">Email <span>*</span></label>\r\n                                    </div>\r\n                                    <div className=\"form-item__wrap\">\r\n                                        <input type=\"date\" name=\"birthday\" onChange={(e) => setBirthday(e.target.value)} id=\"banner-birthday\" placeholder=\"Дата рождения\" />\r\n                                    </div>\r\n                                </div>\r\n                                <textarea name=\"comment\" id=\"banner-com\" onChange={(e) => setComment(e.target.value)} placeholder=\"Опишите диагноз\"></textarea>\r\n                                <p className=\"form-banner__attachment\">\r\n                                    Прикрепить файл <sup>*</sup>\r\n                                    <span>максимум 15 мб</span>\r\n                                    <span className=\"file-name\">{file && file.name}</span>\r\n                                    <input id=\"input-file\" name=\"form-file\" accept=\".png, .jpg, .jpeg\" onChange={(e) => changeFile(e)} type=\"file\" />\r\n                                </p>\r\n                                <button className=\"btn form-banner__btn\" type=\"submit\">Зарегистрироваться</button>\r\n                                <span className=\"form-banner__addition\">После регистрации с вами свяжется специалист обсудит с вами проблемы и ее решение, предложит оптимальную программу</span>\r\n                                {errorForm && !msg ? <span className=\"form-banner__addition error-message\">Введите все поля пожалуйста</span> : <span className=\"form-banner__addition\"></span>}\r\n                                {msg ? <span className=\"form-banner__addition success-message\">{msg}</span> : <span className=\"form-banner__addition\"></span>}\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Banner;","export default __webpack_public_path__ + \"static/media/about-photo.e04f9b00.png\";","import React from 'react';\r\nimport about from '../../img/About/about-photo.png'\r\nconst About = () => {\r\n  return (\r\n    <div className=\"about\" id=\"about\">\r\n        <div className=\"container\">\r\n            <div className=\"about-wrap\">\r\n                <div className=\"about-photo\">\r\n                    <img src={about} alt=\"about photo\" />\r\n                </div>\r\n                <div className=\"about-info\">\r\n                    <h2 className=\"about-info__title\">О проекте Tele Rehab</h2>\r\n                    <p className=\"about-info__text\">Более детальное но краткое описание что это за сайт и чем он может помочь пользователю. Более детальное но краткое описание что это за сайт и чем \r\n                    он может помочь пользователю Более детальное но краткое описаниечто это за сайт и чем он может помочь пользователю.</p>\r\n                    <p className=\"about-info__text\">Более детальное но краткое описание что это за сайт и чем он может помочь пользователю. Более детальное но краткое описание что это за сайт и чем он может помочь пользователю Более детальное но краткое описаниечто это за сайт и чем он может помочь пользователю.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;","import React from 'react';\r\n// import about from '../../img/About/about-photo.png'\r\nimport {\r\n    Accordion,\r\n    AccordionItem,\r\n    AccordionItemHeading,\r\n    AccordionItemButton,\r\n    AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\n\r\n// Demo styles, see 'Styles' section below for some notes on use.\r\nimport 'react-accessible-accordion/dist/fancy-example.css';\r\nconst Questions = () => {\r\n  return (\r\n    <div className=\"questions\" id=\"questions\">\r\n        <div className=\"container\">\r\n            <div className=\"questions-wrap\">\r\n                <h2 className=\"questions-title\">Вопрос-Ответ</h2>\r\n            </div>\r\n            <div className=\"questions-section\">\r\n            <Accordion>\r\n                <AccordionItem>\r\n                    <AccordionItemHeading>\r\n                        <AccordionItemButton>\r\n                            Вопрос номер 1 и ответ на него по клику\r\n                        </AccordionItemButton>\r\n                    </AccordionItemHeading>\r\n                    <AccordionItemPanel>\r\n                        <p>\r\n                            Exercitation in fugiat est ut ad ea cupidatat ut in\r\n                            cupidatat occaecat ut occaecat consequat est minim minim\r\n                            esse tempor laborum consequat esse adipisicing eu\r\n                            reprehenderit enim.\r\n                        </p>\r\n                    </AccordionItemPanel>\r\n                </AccordionItem>\r\n                <AccordionItem>\r\n                    <AccordionItemHeading>\r\n                        <AccordionItemButton>\r\n                            Вопрос номер 1 и ответ на него по клику\r\n                        </AccordionItemButton>\r\n                    </AccordionItemHeading>\r\n                    <AccordionItemPanel>\r\n                        <p>\r\n                            In ad velit in ex nostrud dolore cupidatat consectetur\r\n                            ea in ut nostrud velit in irure cillum tempor laboris\r\n                            sed adipisicing eu esse duis nulla non.\r\n                        </p>\r\n                    </AccordionItemPanel>\r\n                </AccordionItem>\r\n                <AccordionItem>\r\n                    <AccordionItemHeading>\r\n                        <AccordionItemButton>\r\n                            Вопрос номер 1 и ответ на него по клику\r\n                        </AccordionItemButton>\r\n                    </AccordionItemHeading>\r\n                    <AccordionItemPanel>\r\n                        <p>\r\n                            In ad velit in ex nostrud dolore cupidatat consectetur\r\n                            ea in ut nostrud velit in irure cillum tempor laboris\r\n                            sed adipisicing eu esse duis nulla non.\r\n                        </p>\r\n                    </AccordionItemPanel>\r\n                </AccordionItem>\r\n                <AccordionItem>\r\n                    <AccordionItemHeading>\r\n                        <AccordionItemButton>\r\n                            Вопрос номер 1 и ответ на него по клику\r\n                        </AccordionItemButton>\r\n                    </AccordionItemHeading>\r\n                    <AccordionItemPanel>\r\n                        <p>\r\n                            In ad velit in ex nostrud dolore cupidatat consectetur\r\n                            ea in ut nostrud velit in irure cillum tempor laboris\r\n                            sed adipisicing eu esse duis nulla non.\r\n                        </p>\r\n                    </AccordionItemPanel>\r\n                </AccordionItem>\r\n            </Accordion>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Questions;","import React from 'react';\r\n\r\nconst FooterBottom = () => {\r\n  return (\r\n      <div className=\"footer-bottom\">\r\n        <div className=\"container\">\r\n          <div className=\"footer-wrapper\">\r\n            <div className=\"footer-rules\">\r\n              <p>© 2016 - 2021. Teleregub</p>\r\n              <p>Все права защищены.</p>\r\n            </div>\r\n            <div className=\"footer-dev\">\r\n              <p>Сайт разработан компанией <a href=\"#\">impulse-design.com.ua</a></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default FooterBottom;","import React, {useState} from 'react';\r\nimport FooterBottom from './FooterBottom';\r\n\r\n\r\nconst Footer = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n\r\n    const sendMsg = async (e) => {\r\n        e.preventDefault();\r\n        if(name && phone){\r\n            const formData = {\r\n                name,\r\n                phone\r\n            }\r\n            const response = await fetch(`https://tele-rehab-api.vps-touchit.space/send_call/`, {\r\n                method: 'POST',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n        }\r\n    }\r\n\r\n  return (\r\n    <footer className=\"footer\" id=\"footer\">\r\n      <div className=\"footer-top\">\r\n      <div className=\"container\">\r\n        <div className=\"footer-wrap\">\r\n          <div className=\"footer-left\">\r\n            <p className=\"footer-title\">Связаться  с нами</p>\r\n            <div className=\"footer-left__wrap\">\r\n                <div className=\"footer-left__item\">\r\n                  <p>Номер телефона</p>\r\n                  <a href=\"tel:+380990000000\">+38 099 000 00 00</a>\r\n                </div>\r\n                <div className=\"footer-left__item\">\r\n                  <p>Email</p>\r\n                  <a href=\"tel:+380990000000\">telerehab@gmail.com</a>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer-right\">\r\n            <p className=\"footer-title\">Заказать обратный звонок</p>\r\n            <div className=\"footer-form\">\r\n              <form onSubmit={(e)=>sendMsg(e)} name=\"footer-form\" id=\"footer-form\">\r\n                <input type=\"text\" onChange={(e)=>setName(e.target.value)} placeholder=\"Имя\" />\r\n                <input type=\"text\" onChange={(e)=>setPhone(e.target.value)} placeholder=\"Номер телефона\" />\r\n                <button type=\"submit\">\r\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M1.4868 0.711188C1.35079 0.643162 1.19841 0.614672 1.04701 0.628961C0.895608 0.64325 0.751254 0.699743 0.63037 0.792015C0.509486 0.884286 0.416924 1.00863 0.363214 1.15091C0.309504 1.29318 0.296801 1.44768 0.326551 1.59681L2.60643 9.47806C2.64894 9.62494 2.73203 9.75683 2.84615 9.85859C2.96027 9.96035 3.10079 10.0278 3.25155 10.0533L12.4978 11.6019C12.9333 11.6881 12.9333 12.3121 12.4978 12.3982L3.25155 13.9468C3.10079 13.9723 2.96027 14.0398 2.84615 14.1415C2.73203 14.2433 2.64894 14.3752 2.60643 14.5221L0.326551 22.4033C0.296801 22.5525 0.309504 22.7069 0.363214 22.8492C0.416924 22.9915 0.509486 23.1158 0.63037 23.2081C0.751254 23.3004 0.895608 23.3569 1.04701 23.3712C1.19841 23.3855 1.35079 23.357 1.4868 23.2889L22.6118 12.7264C22.7466 12.6589 22.8599 12.5552 22.9391 12.4269C23.0183 12.2986 23.0602 12.1508 23.0602 12.0001C23.0602 11.8493 23.0183 11.7015 22.9391 11.5732C22.8599 11.445 22.7466 11.3412 22.6118 11.2737L1.4868 0.711188Z\" fill=\"white\"/>\r\n                  </svg>\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n      <FooterBottom />\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport FrontPageHeader from '../Header/FrontPageHeader';\r\nimport Banner from './Banner';\r\nimport About from './About';\r\nimport Questions from './Questions';\r\nimport Footer from '../Footer/Footer';\r\n\r\nconst FrontPage = () => {\r\n  return (\r\n    <div className=\"front-page\">\r\n      <div className=\"banner\">\r\n          <FrontPageHeader />\r\n          <Banner />\r\n      </div>\r\n      <About />\r\n      <Questions />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FrontPage;","import React, { useEffect, useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport \"./Categories.css\";\r\n\r\nimport ObjectID from 'bson-objectid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  formControl: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    minWidth: 300,\r\n    backgroundColor: \"#fff\"\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\n\r\nconst Categories = (props) => {\r\n\r\n  const classes = useStyles();\r\n  const [categories, setCategories] = useState([]);\r\n  const [parentCategoryId, setParentCategoryId] = useState();\r\n  const [categoryName, setCategoryName] = useState();\r\n  const [isChanged, setChanged] = useState(false);\r\n  const [changebleCategory, setChangebleCategory] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    setCategories(props.categories)\r\n  }, [props.categories])\r\n\r\n  useEffect(() => {\r\n    setChanged(!isChanged)\r\n  }, [categories])\r\n\r\n\r\n  const getCategories = async () => {\r\n\r\n    console.log(\"getting cateegories\")\r\n    const response = await fetch('https://tele-rehab-api.vps-touchit.space/categories', {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    props.setCategories(data);\r\n  }\r\n\r\n  const addCategory = async () => {\r\n\r\n    console.log(parentCategoryId)\r\n\r\n    if (parentCategoryId !== \"none\" && parentCategoryId !== undefined) {\r\n\r\n      let parentCategory = {};\r\n\r\n      let categoriesList = [...categories];\r\n\r\n      categoriesList.forEach(item => {\r\n\r\n        if (item._id === parentCategoryId) {\r\n          console.log(item)\r\n          item.children.push({ _id: ObjectID().toHexString(), name: categoryName, parent: item._id });\r\n\r\n          fetch(`https://tele-rehab-api.vps-touchit.space/categories/${item._id}`, {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n          })\r\n            .then((res) => { console.log(res) })\r\n            .catch((err) => { console.log(err) })\r\n\r\n          setCategories(categoriesList);\r\n        }\r\n\r\n      })\r\n\r\n\r\n    } else {\r\n\r\n      const response = await fetch(`https://tele-rehab-api.vps-touchit.space/categories`, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ name: categoryName })\r\n      });\r\n\r\n    }\r\n\r\n    await getCategories();\r\n\r\n  }\r\n\r\n  const deleteCategory = async (value) => {\r\n\r\n    console.log(value)\r\n\r\n    if (value.parent !== null && value.parent !== undefined) {\r\n\r\n      let parentCategory = {};\r\n\r\n      categories.forEach(item => {\r\n        if (item._id === value.parent) {\r\n          parentCategory = item;\r\n        }\r\n      })\r\n\r\n      parentCategory.children.forEach((item, index) => {\r\n        if (item._id === value.id) {\r\n          parentCategory.children.splice(index, 1);\r\n\r\n        }\r\n      })\r\n\r\n      const response = await fetch(`https://tele-rehab-api.vps-touchit.space/categories/${value.parent}`, {\r\n        method: 'PUT',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(parentCategory)\r\n      });\r\n\r\n      console.log(await response.json());\r\n\r\n    } else {\r\n\r\n      const response = await fetch(`https://tele-rehab-api.vps-touchit.space/categories/${value.id}`, {\r\n        method: 'DELETE',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n      });\r\n\r\n      console.log(await response.json());\r\n\r\n    }\r\n\r\n\r\n\r\n    getCategories();\r\n\r\n  }\r\n\r\n  const changeCategoryName = (value, id, parentId = null) => {\r\n    let categoriesList = [...categories];\r\n\r\n    console.log(value)\r\n\r\n    if (parentId !== null) {\r\n\r\n      categoriesList.map(parent => {\r\n        if (parentId === parent._id) {\r\n          parent.children.map(child => {\r\n            if (child._id === id) {\r\n              child.name = value\r\n\r\n              fetch(`https://tele-rehab-api.vps-touchit.space/categories/${parentId}`, {\r\n                method: 'PUT',\r\n                mode: 'cors',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(parent)\r\n              })\r\n                .then((res) => { setCategories(categoriesList); })\r\n                .catch((err) => { console.log(err) })\r\n\r\n              return;\r\n            }\r\n          })\r\n        }\r\n      })\r\n\r\n    } else {\r\n\r\n      fetch(`https://tele-rehab-api.vps-touchit.space/categories/${id}`, {\r\n        method: 'PUT',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({name: value})\r\n      })\r\n        .then((res) => { getCategories(); })\r\n        .catch((err) => { console.log(err) })\r\n\r\n      return;\r\n\r\n    }\r\n\r\n    setCategories(categoriesList);\r\n    setChangebleCategory(null);\r\n\r\n  }\r\n\r\n  const renderCategories = () => {\r\n    return categories.map(parent => {\r\n      return (\r\n        <div className=\"category\" key={parent._id}>\r\n\r\n          <div className=\"category-line\">\r\n            {\r\n              changebleCategory === parent._id ?\r\n                (\r\n                  <div className=\"category-item\">\r\n                    <TextField\r\n                      autoFocus\r\n                      variant=\"outlined\"\r\n                      defaultValue={parent.name}\r\n                      onFocus={() => { setChangebleCategory(parent._id) }}\r\n                      onBlur={(e) => { changeCategoryName(e.target.value, parent._id) }}\r\n                    />\r\n                  </div>\r\n                )\r\n                :\r\n                (\r\n                  <div\r\n                    className=\"category-item\"\r\n                    onDoubleClick={(e) => { setChangebleCategory(parent._id) }}\r\n                  >\r\n                    {parent.name}\r\n                  </div>\r\n                )\r\n            }\r\n            <div className=\"category-item\">\r\n            </div>\r\n            <div className=\"category-item\">\r\n              <div className=\"category-subitem\" onClick={() => { deleteCategory({ id: parent._id, parent: null }) }}> DELETE </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"category_children\">\r\n\r\n            {parent.children.map(child => {\r\n              return (\r\n                <div className=\"category-line\" key={child._id}>\r\n                  {\r\n                    changebleCategory === child._id ?\r\n                      (\r\n                        <div className=\"category-item\">\r\n                          <TextField\r\n                            autoFocus\r\n                            variant=\"outlined\"\r\n                            defaultValue={child.name}\r\n                            onFocus={() => { setChangebleCategory(child._id) }}\r\n                            onBlur={(e) => { changeCategoryName(e.target.value, child._id, parent._id) }}\r\n                          />\r\n                        </div>\r\n                      )\r\n                      :\r\n                      (\r\n                        <div\r\n                          className=\"category-item\"\r\n                          onDoubleClick={(e) => { setChangebleCategory(child._id) }}\r\n                        >\r\n                          {child.name}\r\n                        </div>\r\n                      )\r\n                  }\r\n                  {/* <div className=\"category-item\">{child._id}</div> */}\r\n                  <div className=\"category-item\">\r\n                    <div className=\"category-subitem\" onClick={() => { deleteCategory({ id: child._id, parent: child.parent }) }}> DELETE </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n\r\n          </div>\r\n\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        id=\"outlined-basic\"\r\n        label=\"Название категории\"\r\n        variant=\"outlined\"\r\n        onChange={(e) => { setCategoryName(e.target.value) }}\r\n      />\r\n\r\n      <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">Родительская категория</InputLabel>\r\n        <Select\r\n          className=\"user_selected-input\"\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          value={parentCategoryId || \"\"}\r\n          onChange={(e) => { setParentCategoryId(e.target.value) }}\r\n          label=\"Выберите пользователя\"\r\n        >\r\n          <MenuItem value=\"none\">\r\n            Выберите родительскую категорию\r\n          </MenuItem>\r\n          {\r\n            categories.map((item) => {\r\n              return (\r\n                <MenuItem value={item._id} key={item._id}>{item.name}</MenuItem>\r\n              )\r\n            })\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <Button variant=\"contained\" color=\"primary\" onClick={addCategory}>\r\n        Добавить\r\n      </Button>\r\n\r\n      {renderCategories()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Categories;","import React, { useEffect, useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    '&:hover': {\r\n      background: \"#0000001a\",\r\n    }\r\n  },\r\n  selectedItem: {\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: \"#0000001a\",\r\n    '&:hover': {\r\n      background: \"#0000001a\",\r\n    }\r\n  },\r\n}));\r\n\r\nconst CategoriesList = (props) => {\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(\"\");\r\n\r\n  const handleClick = (id) => {\r\n    id === open ? setOpen(\"\") : setOpen(id);\r\n  };\r\n\r\n  const renderCategories = () => {\r\n    return props.categories.map((item) => {\r\n      return (\r\n        <div key={item._id}>\r\n          <ListItem button onClick={() => { handleClick(item._id) }} >\r\n            <ListItemText primary={item.name} />\r\n            {item._id === open ? <ExpandLess /> : <ExpandMore />}\r\n          </ListItem>\r\n          <Collapse in={item._id === open} timeout=\"auto\" unmountOnExit >\r\n            <List component=\"div\" disablePadding>\r\n\r\n              {\r\n                item.children.map((child, index) => {\r\n                  return (\r\n\r\n                    <ListItem\r\n                      button\r\n                      className={ props.selectedCategory === child._id ? classes.selectedItem  : classes.nested}\r\n                      key={child._id}\r\n                      onClick={() => { props.setSelectCategory(child._id) }}\r\n                    >\r\n                      <ListItemText primary={child.name} />\r\n                    </ListItem>\r\n\r\n                  )\r\n                })\r\n              }\r\n\r\n            </List>\r\n          </Collapse>\r\n\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"category-list\" style={{ \"width\": \"30%\" }}>\r\n      <div className={classes.root}>\r\n        <List\r\n          component=\"nav\"\r\n          aria-labelledby=\"nested-list-subheader\"\r\n          className={classes.root}\r\n        >\r\n\r\n          {renderCategories()}\r\n\r\n        </List>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoriesList;","import React, { useEffect, useState } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport './SelectUser.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 300,\r\n    backgroundColor: \"#fff\"\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst SelectUser = (props) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleSelectUser = (id) => {\r\n    if (id === \"none\" || id === \"\") {\r\n      props.setSelectedUser(null);\r\n    } else {\r\n      props.users.forEach((user, index) => {\r\n        if (user._id == id) {\r\n          props.setSelectedUser(user);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"select-user\">\r\n      <FormControl variant=\"outlined\" className={classes.formControl}>\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">Пользователь</InputLabel>\r\n        <Select\r\n          className=\"user_selected-input\"\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          value={props.selectedUser !== null ? props.selectedUser._id : \"\"}\r\n          onChange={(e) => { handleSelectUser(e.target.value) }}\r\n          label=\"Выберите пользователя\"\r\n        >\r\n          <MenuItem value=\"none\">\r\n            Выберите пользователя\r\n          </MenuItem>\r\n          {\r\n            props.users.map((user) => {\r\n              return (\r\n                <MenuItem value={user._id} key={user._id}>{user.name}</MenuItem>\r\n              )\r\n            })\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectUser;","import React, { useEffect, useState } from 'react';\r\nimport SelectUser from '../SelectUser/SelectUser';\r\n// import VideoCard from '../VideoCard/VideoCard';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport './AppointmentsList.css';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '100%',\r\n    },\r\n  },\r\n}));\r\n\r\n\r\n\r\nconst VideosList = (props) => {\r\n  const classes = useStyles();\r\n\r\n  const [videos, setVideos] = useState([]);\r\n  const [modifiedVideos, setModifiedVideos] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [isChanged, setChanged] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (selectedUser !== null) {\r\n      let modifiedVideos = [];\r\n\r\n      for (let i = 0; i < videos.length; i++) {\r\n        let isInclude = false;\r\n\r\n        for (let j = 0; j < selectedUser.appointments.length; j++) {\r\n\r\n          if (selectedUser.appointments[j]._id === videos[i]._id) {\r\n            isInclude = true;\r\n\r\n            videos[i].review = selectedUser.appointments[j].review;\r\n            videos[i].repeat = selectedUser.appointments[j].repeat;\r\n            videos[i].days = selectedUser.appointments[j].days;\r\n            videos[i].selected = true;\r\n            modifiedVideos.push(videos[i])\r\n\r\n            break;\r\n          }\r\n\r\n        }\r\n\r\n        if (!isInclude) {\r\n          videos[i].review = \"\";\r\n          videos[i].selected = false;\r\n          modifiedVideos.push(videos[i])\r\n        }\r\n      }\r\n\r\n      setModifiedVideos(modifiedVideos);\r\n      // setChanged(!isChanged);\r\n    }\r\n  }, [selectedUser])\r\n\r\n  useEffect(() => {\r\n  }, [isChanged])\r\n\r\n  useEffect(() => {\r\n  }, [modifiedVideos])\r\n\r\n  useEffect(async () => {\r\n    const response = await fetch(`https://tele-rehab-api.vps-touchit.space/videos/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    setVideos(data);\r\n\r\n  }, [])\r\n\r\n  useEffect(async () => {\r\n    const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    setUsers(data);\r\n  }, [])\r\n\r\n\r\n  function getId(url) {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n\r\n    return (match && match[2].length === 11)\r\n      ? match[2]\r\n      : null;\r\n  }\r\n\r\n  const updateUser = async () => {\r\n    let appointments = [];\r\n\r\n    modifiedVideos.forEach(item => {\r\n      if (item.selected === true) {\r\n        appointments.push(item);\r\n      }\r\n    });\r\n\r\n\r\n    selectedUser.appointments = appointments;\r\n    selectedUser.statusCourse = false;\r\n\r\n\r\n\r\n      console.log(file);\r\n    if (file === null) {\r\n      console.log(file);\r\n    \r\n      const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${selectedUser._id}`, {\r\n        method: 'PUT',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(selectedUser)\r\n      });\r\n\r\n      const formData = {\r\n        email: selectedUser.email\r\n      }\r\n\r\n      await fetch(`https://tele-rehab-api.vps-touchit.space/update_plan`, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      })\r\n        .then(async (res) => { console.log(\"Success\") })\r\n        .catch((err) => { console.log(err) })\r\n\r\n    } else {\r\n      const formDataFile = new FormData();\r\n      formDataFile.append(\"form-file\", file)\r\n      console.log(file);\r\n\r\n      fetch(`https://tele-rehab-api.vps-touchit.space/upload`, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        body: formDataFile\r\n      }).then(async (res) => {\r\n        const file = await res.json();\r\n        console.log(file);\r\n\r\n        const newSelectedUser = selectedUser;\r\n\r\n        newSelectedUser.attachment = file.filename;\r\n\r\n        const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${newSelectedUser._id}`, {\r\n          method: 'PUT',\r\n          mode: 'cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(newSelectedUser)\r\n        });\r\n\r\n        const formData = {\r\n          email: newSelectedUser.email\r\n        }\r\n        await fetch(`https://tele-rehab-api.vps-touchit.space/update_plan`, {\r\n\r\n        // await fetch(`https://tele-rehab-api.vps-touchit.space/update_plan`, {\r\n          method: 'POST',\r\n          mode: 'cors',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(formData)\r\n        })\r\n          .then(async (res) => { console.log(\"Success\") })\r\n          .catch((err) => { console.log(err) })\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  const renderVideos = () => {\r\n    return modifiedVideos.map((item, index) => {\r\n      if (item.category === props.selectedCategory) {\r\n        const videoId = getId(item.url);\r\n\r\n        return (\r\n          <div className={item.selected ? \"video-container selected\" : \"video-container\"} key={item._id} >\r\n            <div className=\"video_iframe\">\r\n              <iframe width=\"100%\" height=\"100%\" src={`//www.youtube.com/embed/${videoId}`} frameBorder=\"0\" allowFullScreen ></iframe>\r\n            </div>\r\n\r\n            <div className=\"video_info\">\r\n              <div className=\"video_select-bg\" onClick={(e) => { setVideoSelected(index) }}></div>\r\n\r\n              <p className=\"video_label\">{item.name}</p>\r\n\r\n              <div className=\"video_review\">\r\n                <TextField\r\n                  className=\"video_review\"\r\n                  label=\"Комментарий к задаче видео\"\r\n                  multiline\r\n                  rows={4}\r\n                  variant=\"outlined\"\r\n                  value={item.review}\r\n                  onChange={(e) => { setReview(e.target.value, index) }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"video_counts\" >\r\n\r\n                <div className=\"count_item\" >\r\n                  <TextField\r\n                    label=\"Повторений кол-во раз\"\r\n                    type=\"number\"\r\n                    value={item.repeat}\r\n                    InputProps={{ inputProps: { min: 1 } }}\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    onChange={(e) => { setCountRepeat(e.target.value, index) }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"count_item\" >\r\n                  <TextField\r\n                    label=\"Повторений кол-во дней\"\r\n                    type=\"number\"\r\n                    value={item.days}\r\n                    InputProps={{ inputProps: { min: 1 } }}\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    onChange={(e) => { setCountDays(e.target.value, index) }}\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  const setVideoSelected = (index) => {\r\n    let newModifiedVideos = [...modifiedVideos];\r\n    newModifiedVideos[index].selected = !newModifiedVideos[index].selected;\r\n    setModifiedVideos(newModifiedVideos);\r\n  }\r\n\r\n  const setReview = (value, index) => {\r\n    let newModifiedVideos = [...modifiedVideos];\r\n    newModifiedVideos[index].review = value;\r\n    setModifiedVideos(newModifiedVideos);\r\n  };\r\n\r\n  const setCountRepeat = (value, index) => {\r\n    let newModifiedVideos = [...modifiedVideos];\r\n    newModifiedVideos[index].repeat = value;\r\n    setModifiedVideos(newModifiedVideos);\r\n  };\r\n\r\n  const setCountDays = (value, index) => {\r\n    let newModifiedVideos = [...modifiedVideos];\r\n    newModifiedVideos[index].days = value;\r\n    setModifiedVideos(newModifiedVideos);\r\n  };\r\n\r\n  function changeFile(e) {\r\n    let reader = new FileReader();\r\n    let fileLoaded = e.target.files[0];\r\n    console.log(e.target.files[0]);\r\n\r\n    reader.onloadend = () => {\r\n      setFile(e.target.files[0])\r\n    }\r\n\r\n    reader.readAsDataURL(fileLoaded);\r\n  }\r\n\r\n  return (\r\n    <div className=\"appointments\">\r\n      <SelectUser\r\n        selectedUser={selectedUser}\r\n        setSelectedUser={setSelectedUser}\r\n        users={users}\r\n      />\r\n      <div className=\"video-list\">\r\n        {\r\n          selectedUser !== null ?\r\n            props.selectedCategory !== null ?\r\n              renderVideos()\r\n              :\r\n              \"Выберите категорию\"\r\n            :\r\n            \"Выберите пользователя\"\r\n        }\r\n      </div>\r\n      <div>\r\n        <p className=\"form-banner__attachment\">\r\n          Прикрепить файл <sup>*</sup>\r\n          <span>максимум 15 мб</span>\r\n          <span className=\"file-name\">{file && file.name}</span>\r\n          <input id=\"input-file\" name=\"form-file\" accept=\".png, .jpg, .jpeg\" onChange={(e) => changeFile(e)} type=\"file\" />\r\n        </p>\r\n      </div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={updateUser}>\r\n        Сохранить\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideosList;","import React, { useEffect, useState } from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n  formControl: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    minWidth: 300,\r\n    backgroundColor: \"#fff\"\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\n\r\nconst VideoCard = () => {\r\n  const [videos, setVideos] = useState([]);\r\n  const [isReady, setIsReady] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"none\");\r\n  const [underCategories, setUnderCategories] = useState([]);\r\n  const [videoURL, setVideoURL] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [filtredVideos, setFiltredVideos] = useState([]);\r\n  const [filterCategory, setFilterCategory] = useState(\"\");\r\n  const [isFinished, setIsFinished] = useState(false);\r\n  const [changebleVideo, setChangebleVideo] = useState(null);\r\n\r\n  useEffect(async () => {\r\n    await getVideos();\r\n    const responseCategories = await fetch('https://tele-rehab-api.vps-touchit.space/categories', {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let dataCategories = await responseCategories.json();\r\n\r\n    setCategories(dataCategories);\r\n\r\n    setIsReady(true);\r\n  }, [])\r\n\r\n\r\n  async function getVideos() {\r\n    const response = await fetch(`https://tele-rehab-api.vps-touchit.space/videos/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    setVideos(data);\r\n    // setFiltredVideos(data);\r\n  }\r\n\r\n  async function addVideo() {\r\n    if (name && videoURL && category) {\r\n      const formData = {\r\n        name,\r\n        url: videoURL,\r\n        category,\r\n        // review: \"Тупо лучшее\"\r\n      }\r\n      const response = await fetch(`https://tele-rehab-api.vps-touchit.space/videos/`, {\r\n        method: 'POST',\r\n        mode: 'cors',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n      await setName(\"\");\r\n      await setVideoURL(\"\");\r\n      await setCategory(\"\");\r\n      await getVideos();\r\n      await renderVideos();\r\n    }\r\n  }\r\n\r\n  useEffect(async () => {\r\n\r\n    if (selectedCategory !== \"\") {\r\n      categories.forEach((item) => {\r\n        if ( selectedCategory === item._id ) {\r\n          setUnderCategories(item);\r\n          return;\r\n        }\r\n      })\r\n    }\r\n\r\n  }, [selectedCategory])\r\n\r\n  async function clearVideos() {\r\n    await setFiltredVideos([]);\r\n  }\r\n\r\n  // useEffect(async () => {\r\n  //   let modifiedVideos = [];\r\n  //   setFiltredVideos([]);\r\n\r\n  //   console.log(\"ENTERED\", filtredVideos);\r\n  //   if (filterCategory !== \"\") {\r\n  //     // console.log(filterCategory);\r\n  //     const responseCategories = await fetch(`https://tele-rehab-api.vps-touchit.space/categories/${filterCategory}`, {\r\n  //       method: 'GET',\r\n  //       mode: 'cors',\r\n  //       headers: {\r\n  //         'Content-Type': 'application/json'\r\n  //       },\r\n  //     });\r\n  //     console.log(\"BEFORE CLEAT\", filtredVideos);\r\n  //     await setFiltredVideos([]);\r\n  //     console.log(\"AFTER CLEAT\", filtredVideos);\r\n  //     let dataCategories = await responseCategories.json();\r\n  //     setUnderCategories(dataCategories);\r\n\r\n  //     dataCategories.children.forEach(item => {\r\n  //       let element = videos.filter(video => video.category === item._id);\r\n  //       // console.log(\"VIDEOS\", videos);\r\n  //       if (element.length > 0) {\r\n  //         console.log(2, \"element\", element[0].name);\r\n  //         modifiedVideos.push(element[0]);\r\n  //         // setFiltredVideos([...filtredVideos, element[0]]);\r\n  //       }\r\n  //     })\r\n\r\n  //     setFiltredVideos(modifiedVideos);\r\n  //     renderVideos();\r\n\r\n\r\n  //     // setIsReady(true);\r\n  //   }\r\n\r\n  // }, [filterCategory])\r\n\r\n  function filterNewVideos(dataCategories) {\r\n    dataCategories.children.forEach(item => {\r\n      let element = videos.filter(video => video.category === item._id);\r\n      // console.log(\"VIDEOS\", videos);\r\n      if (element.length > 0) {\r\n        console.log(2, \"element\", element[0].name);\r\n        setFiltredVideos([...filtredVideos, element[0]]);\r\n      }\r\n    })\r\n    return 0;\r\n  }\r\n\r\n  function getId(url) {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n\r\n    return (match && match[2].length === 11)\r\n      ? match[2]\r\n      : null;\r\n  }\r\n\r\n  async function deleteVideo(id) {\r\n    const response = await fetch(`https://tele-rehab-api.vps-touchit.space/videos/${id}`, {\r\n      method: 'DELETE',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    await getVideos();\r\n    await renderVideos();\r\n  }\r\n\r\n\r\n  const changeVideoName = (value, id) => {\r\n    let videosList = [...videos];\r\n\r\n    console.log(value)\r\n\r\n\r\n    videosList.map(video => {\r\n      if (id === video._id) {\r\n        if (value !== video.name) {\r\n          video.name = value\r\n\r\n          fetch(`https://tele-rehab-api.vps-touchit.space/videos/${video._id}`, {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(video)\r\n          })\r\n            .then(async (res) => { console.log(await res.json()); getVideos(); })\r\n            .catch((err) => { console.log(err) })\r\n\r\n          return;\r\n        }\r\n      }\r\n    })\r\n\r\n    getVideos();\r\n    setChangebleVideo(null);\r\n  }\r\n\r\n  function renderVideos() {\r\n    // console.log(filtredVideos);\r\n    // console.log(4,filtredVideos, \"isReady \", isReady);\r\n    return filtredVideos.map((item) => {\r\n      const { _id, name, url, category } = item;\r\n      const videoId = getId(url);\r\n\r\n      return (\r\n        <div className=\"video-page-wrapper-card\">\r\n          <div className=\"video_iframe\">\r\n            <iframe width=\"100%\" height=\"100%\" src={`//www.youtube.com/embed/${videoId}`} frameBorder=\"0\" allowFullScreen ></iframe>\r\n          </div>\r\n          <p className=\"video_label\">\r\n            {\r\n              changebleVideo === _id ?\r\n                (\r\n                  <div className=\"category-item\">\r\n                    <TextField\r\n                      autoFocus\r\n                      variant=\"outlined\"\r\n                      defaultValue={name}\r\n                      onFocus={() => { setChangebleVideo(_id) }}\r\n                      onBlur={(e) => { changeVideoName(e.target.value, _id) }}\r\n                    />\r\n                  </div>\r\n                )\r\n                :\r\n                (\r\n                  <span\r\n                    onDoubleClick={(e) => { setChangebleVideo(_id) }}\r\n                  >\r\n                    {name}\r\n                  </span>\r\n                )\r\n            }\r\n          </p>\r\n\r\n          <button className=\"delete-btn\" onClick={() => deleteVideo(item._id)}>Delete</button>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  const renderCategoriesList = () => {\r\n    return categories.map((parent) => {\r\n      return parent.children.map((child) => {\r\n        return (\r\n          <MenuItem value={child._id} key={child._id}>{child.name}</MenuItem>\r\n        )\r\n      })\r\n    })\r\n  }\r\n\r\n  const newRenderVideo = () => {\r\n    let isEmpty = true;\r\n\r\n    return videos.map(video => {\r\n\r\n      if ( filterCategory === video.category || filterCategory === \"none\") {\r\n        const { _id, name, url, category } = video;\r\n        const videoId = getId(url);\r\n\r\n        return (\r\n          <div className=\"video-page-wrapper-card\">\r\n            <div className=\"video_iframe\">\r\n              <iframe width=\"100%\" height=\"100%\" src={`//www.youtube.com/embed/${videoId}`} frameBorder=\"0\" allowFullScreen ></iframe>\r\n            </div>\r\n            <p className=\"video_label\">\r\n              {\r\n                changebleVideo === _id ?\r\n                  (\r\n                    <div className=\"category-item\">\r\n                      <TextField\r\n                        autoFocus\r\n                        variant=\"outlined\"\r\n                        defaultValue={name}\r\n                        onFocus={() => { setChangebleVideo(_id) }}\r\n                        onBlur={(e) => { changeVideoName(e.target.value, _id) }}\r\n                      />\r\n                    </div>\r\n                  )\r\n                  :\r\n                  (\r\n                    <span\r\n                      onDoubleClick={(e) => { setChangebleVideo(_id) }}\r\n                    >\r\n                      {name}\r\n                    </span>\r\n                  )\r\n              }\r\n            </p>\r\n  \r\n            <button className=\"delete-btn\" onClick={() => deleteVideo(video._id)}>Delete</button>\r\n          </div>\r\n        )\r\n      } else {\r\n        isEmpty = true;\r\n      }\r\n\r\n    })\r\n\r\n    \r\n    if ( isEmpty ) {\r\n      return (<div>В данной категории нет видео</div>)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-video-wrapper\">\r\n      <div className=\"box\">\r\n        <FormControl variant=\"outlined\" >\r\n          <div className=\"select-group\">\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Категория</InputLabel>\r\n            <Select\r\n              className=\"user_selected-input\"\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              onChange={(e) => setFilterCategory(e.target.value)}\r\n              // value={parentCategoryId || \"\"}\r\n              // onChange={(e) => { setParentCategoryId(e.target.value) }}\r\n              label=\"Выберите пользователя\"\r\n              defaultValue=\"none\"\r\n            >\r\n              <MenuItem value=\"none\">\r\n                Выберите категорию\r\n              </MenuItem>\r\n              { renderCategoriesList() }\r\n            </Select>\r\n          </div>\r\n        </FormControl>\r\n        <div className=\"box-items\">\r\n          {newRenderVideo()}\r\n        </div>\r\n      </div>\r\n      <div className=\"controls\">\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Название видео\"\r\n          variant=\"outlined\"\r\n          onChange={(e) => { setName(e.target.value) }}\r\n        />\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Ссылка на видео\"\r\n          variant=\"outlined\"\r\n          onChange={(e) => { setVideoURL(e.target.value) }}\r\n        />\r\n\r\n\r\n        <FormControl variant=\"outlined\" >\r\n          <div className=\"select-group\">\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Родительская категория</InputLabel>\r\n            <Select\r\n              className=\"user_selected-input\"\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              onChange={(e) => setSelectedCategory(e.target.value)}\r\n              // value={parentCategoryId || \"\"}\r\n              // onChange={(e) => { setParentCategoryId(e.target.value) }}\r\n              label=\"Выберите пользователя\"\r\n            >\r\n              <MenuItem value=\"none\">\r\n                Выберите родительскую категорию\r\n              </MenuItem>\r\n              {\r\n                categories.map((item) => {\r\n                  return (\r\n                    <MenuItem value={item._id} key={item._id}>{item.name}</MenuItem>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n            {underCategories.children &&\r\n              <div>\r\n                <select name=\"\" id=\"dop-category\" onChange={(e) => setCategory(e.target.value)} className=\"user_selected-input\">\r\n                  <option defaultChecked defaultValue=\"Выберите подкатегорию\" value=\"\"></option>\r\n                  {\r\n                    underCategories.children.map((item) => {\r\n                      return (\r\n                        <option value={item._id} key={item._id}>{item.name}</option>\r\n                      )\r\n                    })\r\n                  }\r\n                </select>\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n        </FormControl>\r\n\r\n        <Button variant=\"contained\" onClick={() => addVideo()} color=\"primary\" >\r\n          Добавить\r\n        </Button>\r\n        {videoURL &&\r\n          <div className=\"video_iframe-preload\">\r\n            <iframe width=\"100%\" height=\"100%\" src={`//www.youtube.com/embed/${getId(videoURL)}`} frameBorder=\"0\" allowFullScreen ></iframe>\r\n          </div>\r\n        }\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoCard;","import React, {useEffect, useState} from \"react\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst UsersRegistration = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [birthday, setBirthday] = useState(\"\");\r\n    const [diagnosis, setDiagnosis] = useState(\"\");\r\n    const [msg, setMsg] = useState(\"\");\r\n\r\n    useEffect(async ()=>{\r\n        await getUsers();\r\n    }, [])\r\n\r\n    async function getUsers(){\r\n        const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        });\r\n\r\n        let data = await response.json();\r\n\r\n        setUsers(data);\r\n    }\r\n\r\n    async function signUp(){\r\n        const result = users.every(item => item.email !== email);\r\n        let emailValidation = email.indexOf(\"@\") !== -1 && email.indexOf(\".\") !== -1;\r\n        if(result){\r\n            if(name && email && password && phone && birthday && diagnosis){\r\n                if(emailValidation) {\r\n                    if(password.length > 5){\r\n                        const formData = {\r\n                            name,\r\n                            email,\r\n                            password,\r\n                            phone,\r\n                            birthday,\r\n                            diagnosis,\r\n                        }\r\n                        const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n                            method: 'POST',\r\n                            mode: 'cors',\r\n                            headers: {\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                            body: JSON.stringify(formData)\r\n                        }).then(async (res) => {\r\n                            setMsg(\"Успешно зарегестрирован\");\r\n                            await getUsers();\r\n\r\n                            await fetch(`https://tele-rehab-api.vps-touchit.space/success_registration`, {\r\n                                method: 'POST',\r\n                                mode: 'cors',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body:  JSON.stringify(formData)\r\n                            })\r\n                                .then(async (res) =>{ console.log(\"Success\")})\r\n                                .catch((err) => { console.log(err) })\r\n\r\n                            // success_registration\r\n                        }).catch(err => console.log(err));\r\n                    } else{\r\n                        setMsg(\"Пароль должен быть больше 5 символов\")\r\n                    }\r\n                }\r\n                else{\r\n                    setMsg(\"Введите правильный email\");\r\n                }\r\n\r\n            } else {\r\n                setMsg(\"Введите все поля\");\r\n            }\r\n\r\n\r\n        } else {\r\n            setMsg(\"Пользователь с таким email уже существует\")\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"user-registration\">\r\n            <FormControl>\r\n                <TextField onChange={(e)=>setName(e.target.value)} id=\"outlined-basic\" label=\"ФИО\" variant=\"outlined\" />\r\n                <TextField onChange={(e)=>setEmail(e.target.value)} id=\"outlined-basic\" label=\"Email\" variant=\"outlined\" />\r\n                <TextField onChange={(e)=>setPassword(e.target.value)} id=\"outlined-basic\" label=\"Пароль\" variant=\"outlined\" />\r\n                <TextField onChange={(e)=>setPhone(e.target.value)} id=\"outlined-basic\" label=\"Телефон\" variant=\"outlined\" />\r\n                <TextField onChange={(e)=>setBirthday(e.target.value)} id=\"outlined-basic\"  type=\"date\" variant=\"outlined\" />\r\n                <TextField onChange={(e)=>setDiagnosis(e.target.value)} id=\"outlined-basic\" label=\"Диагноз\" variant=\"outlined\" />\r\n                <Button onClick={()=>signUp()} variant=\"contained\" color=\"primary\" >\r\n                    Зарегестрировать\r\n                </Button>\r\n                <p className=\"message\">{msg ? msg : \"\"}</p>\r\n            </FormControl>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersRegistration;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n  Link,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nconst UsersList = () => {\r\n  const history = useHistory();\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [file, setFile] = useState({});\r\n\r\n  useEffect(async () => {\r\n    const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n\r\n    setUsers(data);\r\n  }, [])\r\n\r\n  // const startVideoChat = (id) => {\r\n  //   console.log(id)\r\n  //   history.push({\r\n  //     pathname: '/chat',\r\n  //     userId: id\r\n  //   });\r\n  // }\r\n\r\n  const submitForm = (event) => {\r\n    console.log(event)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"user-list\">\r\n\r\n      <div className=\"container\">\r\n        <div className=\"wrapper-user-list\">\r\n          {users.map(item => {\r\n            return (\r\n              <div className=\"user-admin-card\" key={item._id}>\r\n                <div className=\"user-name\">{item.name}</div>\r\n                <div className=\"user-link\">\r\n                  <Link to={{\r\n                    pathname: \"/chat\",\r\n                    userId: item._id\r\n                  }}>Начать видеозвонок</Link>\r\n                </div>\r\n                {/* <div onClick={() => { startVideoChat(item._id) }}>Пригласить в видео-чат</div> */}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;","export default __webpack_public_path__ + \"static/media/Tele-Rehab-black.41932ba4.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\nimport logo2 from '../../img/Tele-Rehab-black.svg'\r\nimport Modal from 'react-modal';\r\n// import HeaderMenu from './HeaderMenu';\r\nimport logo from '../../img/Tele-Rehab.svg'\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\n\r\nModal.setAppElement('#root')\r\n\r\nconst PersonAreaHeader = () => {\r\n  const [modalIsOpen,setIsOpen] = React.useState(false);\r\n    const [users, setUsers] = useState([]);\r\n    const [emailUser, setEmail] = useState(\"\");\r\n    const [passwordUser, setPassword] = useState(\"\");\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n    const [currentUser, setCurrentUser] = useState(\"\");\r\n\r\n    useEffect(async () => {\r\n        if(localStorage.getItem(\"user\")){\r\n            setCurrentUser(localStorage.getItem(\"user\"));\r\n        }\r\n    },[])\r\n  async function openModal() {\r\n    setIsOpen(true);\r\n      let response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/`, {\r\n          method: 'GET',\r\n          mode: 'cors',\r\n          headers: {\r\n              'Content-Type': 'application/json'\r\n          },\r\n      });\r\n      let data = await response.json();\r\n      await setUsers(data);\r\n  }\r\n  function afterOpenModal() {\r\n  }\r\n\r\n  function closeModal(){\r\n    setIsOpen(false);\r\n  }\r\n\r\n    function signIn(e){\r\n        e.preventDefault();\r\n        console.log(users);\r\n        users.forEach((item)=>{\r\n            const {email, password, name, _id} = item;\r\n            if(email === emailUser && password === passwordUser){\r\n                localStorage.setItem(\"user\", name);\r\n                localStorage.setItem(\"id\", _id);\r\n                window.location.href = window.location.origin + \"/personal\";\r\n            } else {\r\n                setErrorMsg(\"Email или пароль не совпадают*\")\r\n            }\r\n        })\r\n    }\r\n\r\n  return (\r\n    <>\r\n     <Modal\r\n          isOpen={modalIsOpen}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\">\r\n          <h2 className=\"popup-title\">Зайти в личный кабинет</h2>\r\n          <form name=\"login-form\" id=\"login-form\" onSubmit={(e)=>signIn(e)}>\r\n              <label>{!errorMsg ? \"Email\" : <span className=\"error-message\">{errorMsg}</span>}</label>\r\n              <input onChange={(e)=>setEmail(e.target.value)}></input>\r\n              <label>{!errorMsg ? \"Пароль\" : <span className=\"error-message\">{errorMsg}</span>}</label>\r\n              <input onChange={(e)=>setPassword(e.target.value)}></input>\r\n              <button type=\"submit\" className=\"btn\">Вход</button>\r\n          </form>\r\n          <button className=\"popup-close\" onClick={closeModal}>\r\n          <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M7.45868 6L11.5407 1.91797C11.7344 1.72458 11.8434 1.46215 11.8437 1.18841C11.8439 0.914677 11.7354 0.652056 11.542 0.458324C11.3486 0.264592 11.0862 0.155618 10.8124 0.155376C10.5387 0.155135 10.2761 0.263644 10.0824 0.457035L6.00032 4.53906L1.91829 0.457035C1.72456 0.263302 1.4618 0.154465 1.18782 0.154465C0.913845 0.154465 0.651088 0.263302 0.457355 0.457035C0.263623 0.650767 0.154785 0.913524 0.154785 1.1875C0.154785 1.46148 0.263623 1.72424 0.457355 1.91797L4.53939 6L0.457355 10.082C0.263623 10.2758 0.154785 10.5385 0.154785 10.8125C0.154785 11.0865 0.263623 11.3492 0.457355 11.543C0.651088 11.7367 0.913845 11.8455 1.18782 11.8455C1.4618 11.8455 1.72456 11.7367 1.91829 11.543L6.00032 7.46094L10.0824 11.543C10.2761 11.7367 10.5388 11.8455 10.8128 11.8455C11.0868 11.8455 11.3496 11.7367 11.5433 11.543C11.737 11.3492 11.8459 11.0865 11.8459 10.8125C11.8459 10.5385 11.737 10.2758 11.5433 10.082L7.45868 6Z\" fill=\"black\" fill-opacity=\"0.19\"/>\r\n          </svg>\r\n          </button>\r\n        </Modal>\r\n      <header className=\"header header-area\">\r\n        <div className=\"container\">\r\n          <div className=\"header-wrap\">\r\n            <div className=\"header-logo\">\r\n            <Link to=\"/\"><img src={logo2} alt=\"logo\"/></Link>\r\n            </div>\r\n            <div className=\"header-menu\">\r\n              <div className=\"header-menu\">\r\n                  <nav  className=\"hamburger-menu\">\r\n                      <input id=\"menu__toggle\" type=\"checkbox\" />\r\n                      <label className=\"menu__btn\" htmlFor=\"menu__toggle\">\r\n                        <span></span>\r\n                      </label> \r\n                      <ul className=\"header-menu__list menu__box\">\r\n                          <li><Link to=\"/\" className=\"menu__item\">Главная</Link></li>\r\n                          <li><a className=\"menu__item\" href=\"#\">О проекте</a></li>\r\n                          <li><a className=\"menu__item\" href=\"#\">Вопрос-ответ</a></li>\r\n                          <li><a className=\"menu__item\" href=\"#\">Контакты</a></li>\r\n                          <li className=\"mobile menu__item\">{currentUser ? <Link to=\"/personal\" >Привет, {currentUser}</Link> : <button onClick={openModal} className=\"header-log__btn btn\" href=\"#\">Кабинет</button>}</li>\r\n                      </ul>\r\n                  </nav>\r\n              </div>\r\n            </div>\r\n            <div className=\"header-log\">\r\n              {/*<button onClick={openModal} className=\"header-log__btn btn\" href=\"#\">Кабинет</button>*/}\r\n                {currentUser ? <Link to=\"/personal\" className=\"user-sign-in\">Привет, {currentUser}</Link> : <button onClick={openModal} className=\"header-log__btn btn\" href=\"#\">Кабинет</button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonAreaHeader;","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Categories from './Categories/Categories';\r\nimport CategoryList from './CategoryList/CategoryList';\r\nimport AppointmentsList from './AppointmentsList/AppointmentsList';\r\n\r\nimport './AdminPanel.css';\r\nimport VideoCard from \"./VideoCard/VideoCard\";\r\nimport UsersRegistration from \"./UsersRegistration/UsersRegistration\";\r\nimport UsersList from \"./UsersList/UsersList\";\r\nimport HeaderMenu from \"../Header/HeaderMenu\";\r\nimport FrontPageHeader from \"../Header/FrontPageHeader\";\r\nimport PersonAreaHeader from \"../Header/PersonAreaHeader\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nconst AdminPanel = () => {\r\n  const classes = useStyles();\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectCategory] = useState(null);\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  useEffect(async () => {\r\n    const isAdmin = localStorage.getItem(\"id\");\r\n    if(isAdmin !== \"60af4a7804705e2a622185b0\"){\r\n      window.location.href = window.location.origin;\r\n    }\r\n    const response = await fetch('https://tele-rehab-api.vps-touchit.space/categories', {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n    });\r\n\r\n    let data = await response.json();\r\n    console.log(data)\r\n    setCategories(data);\r\n\r\n  }, [])\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PersonAreaHeader />\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n          <Tab label=\"Листы назначений\" {...a11yProps(0)} />\r\n          <Tab label=\"Категории\" {...a11yProps(1)} />\r\n          <Tab label=\"Видео\" {...a11yProps(2)} />\r\n          <Tab label=\"Зарегистрировать пользователя\" {...a11yProps(3)}/>\r\n          <Tab label=\"Пользователи\" {...a11yProps(4)}/>\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <TabPanel value={value} index={0}>\r\n        <div className=\"tab__appointment\">\r\n          <CategoryList\r\n            categories={categories}\r\n            selectedCategory={selectedCategory}\r\n            setSelectCategory={setSelectCategory}\r\n          />\r\n          <AppointmentsList\r\n            selectedCategory={selectedCategory}\r\n          />\r\n        </div>\r\n      </TabPanel>\r\n\r\n      <TabPanel value={value} index={1}>\r\n        <div>\r\n          <Categories\r\n            categories={categories}\r\n            setCategories={setCategories}\r\n          />\r\n        </div>\r\n      </TabPanel>\r\n\r\n      <TabPanel value={value} index={2}>\r\n        <VideoCard categories={categories} />\r\n      </TabPanel>\r\n\r\n      <TabPanel value={value} index={3}>\r\n        <UsersRegistration />\r\n      </TabPanel>\r\n\r\n      <TabPanel value={value} index={4}>\r\n        <UsersList />\r\n      </TabPanel>\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport { Link } from \"react-router-dom\";\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport PersonAreaHeader from '../Header/PersonAreaHeader';\r\nimport FooterBottom from '../Footer/FooterBottom';\r\nimport Modal from 'react-modal';\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\n\r\nconst customStyles = {\r\n    content: {\r\n        top: '50%',\r\n        left: '50%',\r\n        right: 'auto',\r\n        bottom: 'auto',\r\n        marginRight: '-50%',\r\n        transform: 'translate(-50%, -50%)'\r\n    }\r\n};\r\n\r\nModal.setAppElement('#root')\r\nconst PersonArea = () => {\r\n    const [modalIsOpen, setIsOpen] = React.useState(false);\r\n    const [user, setUser] = useState({});\r\n    const [categories, setCategories] = useState([]);\r\n    const [isReady, setIsReady] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [categoriesName, setCategoriesName] = useState([]);\r\n    const [comment, setComment] = useState(\"\");\r\n    const [commentSingle, setCommentSingle] = useState(\"\");\r\n    const [open, setOpen] = useState(\"\");\r\n    const [validationFull, setValidationFull] = useState(\"\");\r\n    const [validationSingle, setValidationSingle] = useState(\"\");\r\n    const handleClick = (id) => {\r\n        id === open ? setOpen(\"\") : setOpen(id);\r\n        setValidationSingle(\"\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        setValidationFull(\"\");\r\n    }, [comment])\r\n\r\n    function openModal() {\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function afterOpenModal() {\r\n    }\r\n\r\n    function closeModal() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    function getId(url) {\r\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n        const match = url.match(regExp);\r\n\r\n        return (match && match[2].length === 11)\r\n            ? match[2]\r\n            : null;\r\n    }\r\n\r\n    useEffect(async () => {\r\n        let currentUser = localStorage.getItem(\"id\");\r\n        if (currentUser === \"60af4a7804705e2a622185b0\") {\r\n            setIsAdmin(true);\r\n        }\r\n        if (currentUser) {\r\n            const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${currentUser}`, {\r\n                method: 'GET',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            });\r\n\r\n            let data = await response.json();\r\n\r\n            setUser(data);\r\n        }\r\n\r\n        const responseNew = await fetch('https://tele-rehab-api.vps-touchit.space/categories', {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        });\r\n\r\n        let dataNew = await responseNew.json();\r\n        setCategories(dataNew);\r\n        setIsReady(true);\r\n\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        await getCategoriesName();\r\n        // console.log(categoriesName);\r\n    }, [categories])\r\n\r\n    async function getCategoriesName() {\r\n        categories.forEach((item) => {\r\n            setCategoriesName(state => [...state, item.name]);\r\n        })\r\n    }\r\n\r\n    function logOut() {\r\n        localStorage.setItem(\"user\", \"\");\r\n        localStorage.setItem(\"id\", \"\");\r\n    }\r\n\r\n    async function sendComment(e) {\r\n        e.preventDefault();\r\n        if (comment) {\r\n            const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${user._id}`, {\r\n                method: 'PUT',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ comment: comment })\r\n            });\r\n        } else {\r\n            setValidationFull(\"Введите коментарий для отправки\")\r\n        }\r\n    }\r\n\r\n    async function sendCourseFinish() {\r\n        const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${user._id}`, {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ statusCourse: true })\r\n        });\r\n    }\r\n\r\n    async function sendCommentSingle(e, id, comments, indexAppoint) {\r\n        console.log(user._id);\r\n        e.preventDefault();\r\n        if (commentSingle) {\r\n            user.appointments[indexAppoint].comments.push(commentSingle);\r\n            const response = await fetch(`https://tele-rehab-api.vps-touchit.space/users/${user._id}`, {\r\n                method: 'PUT',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            }).then(() => {\r\n                console.log(\"SUCCESS\");\r\n            });\r\n        } else {\r\n            setValidationSingle(\"Введите коментарий для отправки\")\r\n        }\r\n    }\r\n\r\n    function renderFunc(currCategory) {\r\n        // console.log(user, categories);\r\n        return user.appointments.map((item, index) => {\r\n            return categories.map((element) => {\r\n                const { name } = element;\r\n                return element.children.map((child) => {\r\n                    // console.log(child._id, item.category, child._id === item.category)\r\n                    if (child._id === item.category && currCategory === name) {\r\n                        // console.log(item.url);\r\n                        const videoId = getId(item.url);\r\n\r\n                        return (\r\n                            <div className=\"person-content\">\r\n                                <div className=\"person-content__wrap\">\r\n                                    <div className=\"person-content__video\">\r\n                                        <iframe width=\"100%\" height=\"315\"\r\n                                            src={`//www.youtube.com/embed/${videoId}`}\r\n                                            title=\"YouTube video player\" frameBorder=\"0\"\r\n                                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                            allowFullScreen></iframe>\r\n                                        {/*<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube.com/embed/e1GbGNYIGB4\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>*/}\r\n\r\n                                    </div>\r\n                                    <div className=\"person-content__info info-person\">\r\n                                        <p className=\"info-person__main\">{item.name} </p>\r\n                                        <p className=\"info-person__main\">{item.review} </p>\r\n                                        <div className=\"info-person__statistic\">\r\n                                            <div className=\"statistic-item\">\r\n                                                <p className=\"statistic-item__name\">Количество повторений\r\n                                                    упражнения:</p>\r\n                                                <p className=\"statistic-item__result\">{item.repeat}</p>\r\n                                            </div>\r\n                                            <div className=\"statistic-item\">\r\n                                                <p className=\"statistic-item__name\">Количество дней к выполнению:</p>\r\n                                                <p className=\"statistic-item__result\">{item.days}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button onClick={() => { handleClick(item._id) }} className=\"info-person__review\">\r\n                                            Оставить отзывы по выполнению\r\n                                        </button>\r\n                                        <Collapse in={item._id === open} timeout=\"auto\" unmountOnExit>\r\n                                            <p className=\"error-message-form\">{validationSingle ? validationSingle : \"\"}</p>\r\n\r\n                                            <form className=\"form-single\" onSubmit={(e) => sendCommentSingle(e, item._id, item.comments, index)}>\r\n                                                <textarea onChange={(e) => setCommentSingle(e.target.value)} name=\"comment-text-single\" className=\"form-single-video\"\r\n                                                    placeholder=\"Ваш комменантарий. Насколько было сложно, больше и так далее\">\r\n                                                </textarea>\r\n                                                <button type=\"submit\" className=\"send-btn\">\r\n                                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                                                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                        <path\r\n                                                            d=\"M1.87717 0.711066C1.74216 0.64304 1.59092 0.61455 1.44065 0.628839C1.29037 0.643128 1.14709 0.699621 1.0271 0.791893C0.907118 0.884164 0.815244 1.00851 0.761933 1.15079C0.708622 1.29306 0.696014 1.44755 0.725543 1.59669L2.98847 9.47794C3.03066 9.62481 3.11313 9.75671 3.22641 9.85847C3.33968 9.96023 3.47915 10.0277 3.62879 10.0532L12.8063 11.6018C13.2386 11.6879 13.2386 12.3119 12.8063 12.3981L3.62879 13.9467C3.47915 13.9722 3.33968 14.0397 3.22641 14.1414C3.11313 14.2432 3.03066 14.3751 2.98847 14.5219L0.725543 22.4032C0.696014 22.5523 0.708622 22.7068 0.761933 22.8491C0.815244 22.9914 0.907118 23.1157 1.0271 23.208C1.14709 23.3003 1.29037 23.3568 1.44065 23.371C1.59092 23.3853 1.74216 23.3568 1.87717 23.2888L22.8451 12.7263C22.9789 12.6588 23.0913 12.555 23.17 12.4268C23.2486 12.2985 23.2902 12.1507 23.2902 11.9999C23.2902 11.8492 23.2486 11.7014 23.17 11.5731C23.0913 11.4448 22.9789 11.3411 22.8451 11.2736L1.87717 0.711066Z\"\r\n                                                            fill=\"white\" />\r\n                                                    </svg>\r\n                                                </button>\r\n                                            </form>\r\n                                        </Collapse>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    const donwloadAttachment = () => {\r\n\r\n        // window.open('/download')\r\n\r\n        fetch(`https://tele-rehab-api.vps-touchit.space/download`, {\r\n            method: 'GET',\r\n            mode: 'no-cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n        }).then(async (res) => { console.log(\"11\") })\r\n\r\n        // console.log(browser.downloads)\r\n\r\n        // const url = `${window.location.origin}/public/uploads/${user.attachment}`\r\n        // const path = Path.resolve(__dirname, 'images', 'code.jpg')\r\n        // const writer = Fs.createWriteStream(path)\r\n\r\n        // const response = await Axios({\r\n        //     url,\r\n        //     method: 'GET',\r\n        //     responseType: 'stream'\r\n        // })\r\n\r\n        // response.data.pipe(writer)\r\n\r\n        // return new Promise((resolve, reject) => {\r\n        //     writer.on('finish', resolve)\r\n        //     writer.on('error', reject)\r\n        // })\r\n    }\r\n\r\n       const download = (name) => {\r\n           const url = \"https://tele-rehab-api.vps-touchit.space/1.png\";\r\n         if (!url) {\r\n           throw new Error(\"Resource URL not provided! You need to provide one\");\r\n         }\r\n         fetch(url, {mode: \"no-cors\", method: 'GET'})\r\n           .then(response => response.blob())\r\n           .then(blob => {\r\n             const blobURL = URL.createObjectURL(blob);\r\n             const a = document.createElement(\"a\");\r\n             a.href = blobURL;\r\n             a.style = \"display: none\";\r\n     \r\n             if (name && name.length) a.download = name;\r\n             document.body.appendChild(a);\r\n             a.click();\r\n           })\r\n       };\r\n     \r\n\r\n    return (\r\n        <div className=\"person-area\">\r\n            <PersonAreaHeader />\r\n            <div className=\"person-section\">\r\n                <div className=\"container\">\r\n                    <div className=\"person-connections\">\r\n                        {/* <div>\r\n                            <a href={`https://tele-rehab-api.vps-touchit.space/1.png`} download=\"1.png\">AAAAAAAAAAAAAAAAAAAAAAAAAA</a>\r\n                            <a href=\"https://tele-rehab-api.vps-touchit.space/1.png\" target=\"_blank\" download>\r\n                                <img src=\"https://tele-rehab-api.vps-touchit.space/1.png\" alt=\"W3Schools\" width=\"104\" height=\"142\" />\r\n                            </a>\r\n                        </div> */}\r\n                        {/* <img src=\"https://tele-rehab-api.vps-touchit.space/1.png\" onClick={() => {download(\"1.png\")}} /> */}\r\n                        {isAdmin &&\r\n                            <Link to=\"/admin\" className=\"person-connections__link\" >\r\n                                <svg aria-hidden=\"true\" width=\"28\" height=\"31\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"user-cog\"\r\n                                    className=\"svg-inline--fa fa-user-cog fa-w-20\" role=\"img\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\">\r\n                                    <path fill=\"#00398F\"\r\n                                        d=\"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z\"></path>\r\n                                </svg>\r\n                            Админ панель\r\n                        </Link>\r\n                        }\r\n                        <Link to=\"/\" onClick={() => logOut()} className=\"person-connections__link\" >\r\n                            <svg aria-hidden=\"true\" width=\"28\" height=\"31\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"sign-out-alt\"\r\n                                className=\"svg-inline--fa fa-sign-out-alt fa-w-16\" role=\"img\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                                <path fill=\"#00398F\"\r\n                                    d=\"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z\"></path>\r\n                            </svg>\r\n                            Выйти с аккаунта\r\n                        </Link>\r\n                        <a className=\"person-connections__link\" href=\"#\">\r\n                            <svg width=\"28\" height=\"31\" viewBox=\"0 0 28 31\" fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M14 0.625C6.73057 0.625 0.816406 6.53916 0.816406 13.8086C0.816406 14.6142 0.816406 20.8462 0.816406 20.957C0.816406 22.4109 1.99924 23.5938 3.45312 23.5938H4.4832C4.84602 24.6167 5.82295 25.3516 6.96875 25.3516C8.42264 25.3516 9.60547 24.1687 9.60547 22.7148V15.5664C9.60547 14.1125 8.42264 12.9297 6.96875 12.9297C5.82295 12.9297 4.84602 13.6646 4.4832 14.6875H3.45312C3.14498 14.6875 2.84932 14.7411 2.57422 14.8387V13.8086C2.57422 7.50842 7.69982 2.38281 14 2.38281C20.3002 2.38281 25.4258 7.50842 25.4258 13.8086V14.8387C25.1507 14.7411 24.855 14.6875 24.5469 14.6875H23.5168C23.154 13.6646 22.1771 12.9297 21.0312 12.9297C19.5774 12.9297 18.3945 14.1125 18.3945 15.5664V22.7148C18.3945 24.1687 19.5774 25.3516 21.0312 25.3516C21.2973 25.3516 21.5542 25.3116 21.7965 25.2379C21.4678 26.3197 20.4613 27.1094 19.2734 27.1094H16.4855C16.1227 26.0864 15.1458 25.3516 14 25.3516C12.5461 25.3516 11.3633 26.5344 11.3633 27.9883C11.3633 29.4422 12.5461 30.625 14 30.625C15.1458 30.625 16.1227 29.8901 16.4855 28.8672H19.2734C21.6966 28.8672 23.668 26.8958 23.668 24.4727V23.5938H24.5469C26.0008 23.5938 27.1836 22.4109 27.1836 20.957C27.1836 20.8478 27.1836 14.6136 27.1836 13.8086C27.1836 6.53916 21.2694 0.625 14 0.625ZM6.08984 15.5664C6.08984 15.0818 6.48412 14.6875 6.96875 14.6875C7.45338 14.6875 7.84766 15.0818 7.84766 15.5664V22.7148C7.84766 23.1995 7.45338 23.5938 6.96875 23.5938C6.48412 23.5938 6.08984 23.1995 6.08984 22.7148V15.5664ZM3.45312 16.4453H4.33203V21.8359H3.45312C2.9685 21.8359 2.57422 21.4417 2.57422 20.957V17.3242C2.57422 16.8396 2.9685 16.4453 3.45312 16.4453ZM14 28.8672C13.5154 28.8672 13.1211 28.4729 13.1211 27.9883C13.1211 27.5037 13.5154 27.1094 14 27.1094C14.4846 27.1094 14.8789 27.5037 14.8789 27.9883C14.8789 28.4729 14.4846 28.8672 14 28.8672ZM21.9102 22.7148C21.9102 23.1995 21.5159 23.5938 21.0312 23.5938C20.5466 23.5938 20.1523 23.1995 20.1523 22.7148V15.5664C20.1523 15.0818 20.5466 14.6875 21.0312 14.6875C21.5159 14.6875 21.9102 15.0818 21.9102 15.5664V22.7148ZM25.4258 20.957C25.4258 21.4417 25.0315 21.8359 24.5469 21.8359H23.668V16.4453H24.5469C25.0315 16.4453 25.4258 16.8396 25.4258 17.3242V20.957Z\"\r\n                                    fill=\"#00398F\" />\r\n                            </svg>\r\n                            Обратная связь\r\n                        </a>\r\n                        {user.video_chat_url !== undefined && user.video_chat_url !== \"\" ?\r\n                            (\r\n                                <Link className=\"person-connections__link\" to={{ pathname: '/chat', doctorId: user.video_chat_url }} >\r\n                                    <svg width=\"30\" height=\"31\" viewBox=\"0 0 30 31\" fill=\"none\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path\r\n                                            d=\"M22.17 7.57374C21.9687 7.46499 21.72 7.47624 21.5288 7.60497L18.75 9.45747V8.12499C18.75 7.77999 18.47 7.49997 18.125 7.49997H9.375C7.5525 7.49997 7.5 11.9887 7.5 12.5C7.5 13.0112 7.5525 17.5 9.375 17.5H18.125C18.47 17.5 18.75 17.22 18.75 16.875V15.5425L21.5288 17.395C21.6325 17.465 21.7538 17.5 21.875 17.5C21.9762 17.5 22.0775 17.475 22.17 17.4262C22.3725 17.3175 22.5 17.1062 22.5 16.875V8.12499C22.5 7.89372 22.3737 7.68249 22.17 7.57374ZM21.25 15.7075L18.4713 13.855C18.28 13.7275 18.0325 13.7162 17.83 13.8238C17.6275 13.9325 17.5 14.1437 17.5 14.375V16.2512L9.4875 16.2775C9.23877 16.0987 8.74998 14.7662 8.74998 12.5C8.74998 10.2338 9.23871 8.90124 9.375 8.75001H17.5V10.625C17.5 10.8563 17.6263 11.0675 17.83 11.1763C18.0325 11.285 18.28 11.2725 18.4713 11.145L21.25 9.29253V15.7075Z\"\r\n                                            fill=\"#00398F\" />\r\n                                        <path\r\n                                            d=\"M25.625 1.25003H4.37502C1.96248 1.25003 0 3.21251 0 5.62499V19.375C0 21.7875 1.96248 23.75 4.37502 23.75H6.25002V29.375C6.25002 29.6175 6.39 29.8388 6.61002 29.9413C6.69375 29.98 6.78504 30 6.87504 30C7.01877 30 7.16127 29.9501 7.27506 29.855L14.6013 23.75H25.6251C28.0375 23.75 30 21.7875 30 19.375V5.62499C30 3.21251 28.0375 1.25003 25.625 1.25003ZM28.75 19.375C28.75 21.0975 27.3475 22.5 25.625 22.5H14.375C14.2288 22.5 14.0875 22.5513 13.975 22.645L7.5 28.0413V23.125C7.5 22.78 7.21998 22.5 6.87498 22.5H4.37502C2.65254 22.5 1.25004 21.0975 1.25004 19.375V5.62499C1.24998 3.90251 2.65248 2.50001 4.37502 2.50001H25.625C27.3475 2.50001 28.75 3.90251 28.75 5.62499V19.375Z\"\r\n                                            fill=\"#00398F\" />\r\n                                    </svg>\r\n                                    Видео-конференция\r\n                                </Link>\r\n                            )\r\n                            :\r\n                            null\r\n                        }\r\n\r\n                    </div>\r\n                    <div className=\"person-desk\">\r\n                        <h2>{user.name}</h2>\r\n                        <div className=\"person-tabs\">\r\n                            <Tabs>\r\n                                <TabList>\r\n                                    {categoriesName.map(item => {\r\n                                        return (\r\n                                            <Tab>{item}</Tab>\r\n                                        )\r\n                                    })}\r\n                                    {/*<Tab>Физ упражнения</Tab>*/}\r\n                                    {/*<Tab>Самообслуживание</Tab>*/}\r\n                                    {/*<Tab>Логопед</Tab>*/}\r\n                                    {/*<Tab>Лист назначений</Tab>*/}\r\n                                </TabList>\r\n                                {!user.statusCourse &&\r\n                                    categoriesName.map((item) => {\r\n                                        return (\r\n                                            <TabPanel key={item._id}>\r\n                                                {isReady && renderFunc(item)}\r\n                                            </TabPanel>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </Tabs>\r\n                        </div>\r\n                        <div className=\"person-comment\">\r\n                            <p className=\"error-message-form\">{validationFull ? validationFull : \"\"}</p>\r\n\r\n                            <form onSubmit={(e) => sendComment(e)} action=\"#\" name=\"comment-form\" id=\"comment-form\">\r\n                                <textarea onChange={(e) => setComment(e.target.value)} name=\"comment-text\" id=\"comment-text\"\r\n                                    placeholder=\"Ваш комменантарий. Насколько было сложно, больше и так далее\">\r\n                                </textarea>\r\n                                <button type=\"submit\" className=\"person-comment__btn\">\r\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                                        xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path\r\n                                            d=\"M1.87717 0.711066C1.74216 0.64304 1.59092 0.61455 1.44065 0.628839C1.29037 0.643128 1.14709 0.699621 1.0271 0.791893C0.907118 0.884164 0.815244 1.00851 0.761933 1.15079C0.708622 1.29306 0.696014 1.44755 0.725543 1.59669L2.98847 9.47794C3.03066 9.62481 3.11313 9.75671 3.22641 9.85847C3.33968 9.96023 3.47915 10.0277 3.62879 10.0532L12.8063 11.6018C13.2386 11.6879 13.2386 12.3119 12.8063 12.3981L3.62879 13.9467C3.47915 13.9722 3.33968 14.0397 3.22641 14.1414C3.11313 14.2432 3.03066 14.3751 2.98847 14.5219L0.725543 22.4032C0.696014 22.5523 0.708622 22.7068 0.761933 22.8491C0.815244 22.9914 0.907118 23.1157 1.0271 23.208C1.14709 23.3003 1.29037 23.3568 1.44065 23.371C1.59092 23.3853 1.74216 23.3568 1.87717 23.2888L22.8451 12.7263C22.9789 12.6588 23.0913 12.555 23.17 12.4268C23.2486 12.2985 23.2902 12.1507 23.2902 11.9999C23.2902 11.8492 23.2486 11.7014 23.17 11.5731C23.0913 11.4448 22.9789 11.3411 22.8451 11.2736L1.87717 0.711066Z\"\r\n                                            fill=\"white\" />\r\n                                    </svg>\r\n                                </button>\r\n                            </form>\r\n\r\n                            <button onClick={() => openModal()} className=\"person-comment__true\">Подтвердить\r\n                            прохождение программы\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <Modal\r\n                    isOpen={modalIsOpen}\r\n                    onAfterOpen={afterOpenModal}\r\n                    onRequestClose={closeModal}\r\n                    style={customStyles}\r\n                    contentLabel=\"Example Modal\">\r\n\r\n                    <h2 className=\"popup-title\">Вы хотите написать отзыв по курсу?</h2>\r\n                    <div className=\"wrapper-buttons\">\r\n                        <button onClick={closeModal} className=\"btn\">Да</button>\r\n                        <button onClick={() => sendCourseFinish()} className=\"btn\">Нет</button>\r\n                    </div>\r\n                    <button className=\"popup-close\" onClick={closeModal}>\r\n                        <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path\r\n                                d=\"M7.45868 6L11.5407 1.91797C11.7344 1.72458 11.8434 1.46215 11.8437 1.18841C11.8439 0.914677 11.7354 0.652056 11.542 0.458324C11.3486 0.264592 11.0862 0.155618 10.8124 0.155376C10.5387 0.155135 10.2761 0.263644 10.0824 0.457035L6.00032 4.53906L1.91829 0.457035C1.72456 0.263302 1.4618 0.154465 1.18782 0.154465C0.913845 0.154465 0.651088 0.263302 0.457355 0.457035C0.263623 0.650767 0.154785 0.913524 0.154785 1.1875C0.154785 1.46148 0.263623 1.72424 0.457355 1.91797L4.53939 6L0.457355 10.082C0.263623 10.2758 0.154785 10.5385 0.154785 10.8125C0.154785 11.0865 0.263623 11.3492 0.457355 11.543C0.651088 11.7367 0.913845 11.8455 1.18782 11.8455C1.4618 11.8455 1.72456 11.7367 1.91829 11.543L6.00032 7.46094L10.0824 11.543C10.2761 11.7367 10.5388 11.8455 10.8128 11.8455C11.0868 11.8455 11.3496 11.7367 11.5433 11.543C11.737 11.3492 11.8459 11.0865 11.8459 10.8125C11.8459 10.5385 11.737 10.2758 11.5433 10.082L7.45868 6Z\"\r\n                                fill=\"black\" fill-opacity=\"0.19\" />\r\n                        </svg>\r\n                    </button>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    // isOpen={modalIsOpen}\r\n                    onAfterOpen={afterOpenModal}\r\n                    onRequestClose={closeModal}\r\n                    style={customStyles}\r\n                    contentLabel=\"Example Modal\">\r\n                    <div className=\"popup-downloud\">\r\n                        <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path\r\n                                d=\"M19.6875 5.6875H12.1875C11.6697 5.6875 11.25 6.10725 11.25 6.625C11.25 7.14275 11.6697 7.5625 12.1875 7.5625H19.6875C20.2052 7.5625 20.625 7.14275 20.625 6.625C20.625 6.10725 20.2052 5.6875 19.6875 5.6875Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                            <path\r\n                                d=\"M19.6875 9.4375H12.1875C11.6697 9.4375 11.25 9.85725 11.25 10.375C11.25 10.8928 11.6697 11.3125 12.1875 11.3125H19.6875C20.2052 11.3125 20.625 10.8928 20.625 10.375C20.625 9.85725 20.2052 9.4375 19.6875 9.4375Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                            <path\r\n                                d=\"M19.6875 13.1875H4.6875C4.16975 13.1875 3.75 13.6072 3.75 14.125C3.75 14.6428 4.16975 15.0625 4.6875 15.0625H19.6875C20.2052 15.0625 20.625 14.6428 20.625 14.125C20.625 13.6072 20.2052 13.1875 19.6875 13.1875Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                            <path\r\n                                d=\"M16.2889 16.9375H4.6875C4.16975 16.9375 3.75 17.3572 3.75 17.875C3.75 18.3928 4.16975 18.8125 4.6875 18.8125H16.2889C16.8066 18.8125 17.2264 18.3928 17.2264 17.875C17.2264 17.3572 16.8066 16.9375 16.2889 16.9375Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                            <path\r\n                                d=\"M24.4375 16.9375V2.8125C24.4375 1.258 23.119 0 21.5625 0H8.43738C8.19969 0 7.95519 0.094 7.77187 0.277375L0.271875 7.83988C0.0995625 8.01356 0 8.25513 0 8.5V29.1875C0 30.7383 1.26169 32 2.8125 32C4.79037 32 5.44712 32 5.44431 32C8.3195 32 13.9771 32 24.4375 32C28.5771 32 32 28.5916 32 24.4375C32 20.302 28.6075 16.9375 24.4375 16.9375ZM7.5 3.21419V7.5625H3.18762L7.5 3.21419ZM2.8125 30.125C2.29556 30.125 1.875 29.7044 1.875 29.1875V9.4375H8.4375C8.95525 9.4375 9.375 9.01775 9.375 8.5V1.875H21.5625C22.0952 1.875 22.5625 2.31306 22.5625 2.8125V17.1709C20.5726 17.6762 18.8964 18.9662 17.8902 20.6875H4.6875C4.16975 20.6875 3.75 21.1073 3.75 21.625C3.75 22.1427 4.16975 22.5625 4.6875 22.5625H17.1143C16.9581 23.162 16.875 23.7903 16.875 24.4375H4.6875C4.16975 24.4375 3.75 24.8573 3.75 25.375C3.75 25.8927 4.16975 26.3125 4.6875 26.3125H17.1128C17.4917 27.7786 18.3111 29.0999 19.4804 30.125H2.8125ZM24.4375 30.125C21.3546 30.125 18.75 27.5204 18.75 24.4375C18.75 21.3359 21.3014 18.8125 24.4375 18.8125C27.5736 18.8125 30.125 21.3359 30.125 24.4375C30.125 27.5204 27.5204 30.125 24.4375 30.125Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                            <path\r\n                                d=\"M27.9808 22.8426C27.6178 22.4735 27.0242 22.4686 26.655 22.8316L23.4947 25.9402L22.2144 24.7013C21.8424 24.3412 21.2489 24.351 20.8888 24.7231C20.5287 25.0951 20.5385 25.6886 20.9105 26.0487L22.848 27.9237C23.2135 28.2774 23.7945 28.2752 24.1574 27.9184L27.9699 24.1684C28.339 23.8053 28.3439 23.2117 27.9808 22.8426Z\"\r\n                                fill=\"#8B8B8B\" />\r\n                        </svg>\r\n                        <h2 className=\"popup-title\">Лист назначения</h2>\r\n                        <button className=\"btn\">Скачать</button>\r\n                        <button className=\"popup-close\" onClick={closeModal}>\r\n                            <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\"\r\n                                xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path\r\n                                    d=\"M7.45868 6L11.5407 1.91797C11.7344 1.72458 11.8434 1.46215 11.8437 1.18841C11.8439 0.914677 11.7354 0.652056 11.542 0.458324C11.3486 0.264592 11.0862 0.155618 10.8124 0.155376C10.5387 0.155135 10.2761 0.263644 10.0824 0.457035L6.00032 4.53906L1.91829 0.457035C1.72456 0.263302 1.4618 0.154465 1.18782 0.154465C0.913845 0.154465 0.651088 0.263302 0.457355 0.457035C0.263623 0.650767 0.154785 0.913524 0.154785 1.1875C0.154785 1.46148 0.263623 1.72424 0.457355 1.91797L4.53939 6L0.457355 10.082C0.263623 10.2758 0.154785 10.5385 0.154785 10.8125C0.154785 11.0865 0.263623 11.3492 0.457355 11.543C0.651088 11.7367 0.913845 11.8455 1.18782 11.8455C1.4618 11.8455 1.72456 11.7367 1.91829 11.543L6.00032 7.46094L10.0824 11.543C10.2761 11.7367 10.5388 11.8455 10.8128 11.8455C11.0868 11.8455 11.3496 11.7367 11.5433 11.543C11.737 11.3492 11.8459 11.0865 11.8459 10.8125C11.8459 10.5385 11.737 10.2758 11.5433 10.082L7.45868 6Z\"\r\n                                    fill=\"black\" fill-opacity=\"0.19\" />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n            <FooterBottom />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PersonArea;","import Button from \"@material-ui/core/Button\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\"\r\nimport PhoneIcon from \"@material-ui/icons/Phone\"\r\nimport React, { useEffect, useRef, useState } from \"react\"\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\r\nimport Peer from \"simple-peer\"\r\nimport io from \"socket.io-client\"\r\nimport \"./VideoChat.css\"\r\n\r\n\r\nconst VideoChat = (props) => {\r\n\tconst [me, setMe] = useState(\"\")\r\n\tconst [socket, setSocket] = useState()\r\n\tconst [stream, setStream] = useState()\r\n\tconst [receivingCall, setReceivingCall] = useState(false)\r\n\tconst [caller, setCaller] = useState(\"\")\r\n\tconst [callerSignal, setCallerSignal] = useState()\r\n\tconst [callAccepted, setCallAccepted] = useState(false)\r\n\tconst [idToCall, setIdToCall] = useState(\"\")\r\n\tconst [callEnded, setCallEnded] = useState(false)\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [userId, setUserId] = useState(\"\")\r\n\tconst myVideo = useRef()\r\n\tconst userVideo = useRef()\r\n\tconst connectionRef = useRef()\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst socket = io.connect('https://tele-rehab-socket-io.vps-touchit.space')\r\n\r\n\t\tsetSocket(socket);\r\n\r\n\t\tnavigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((stream) => {\r\n\t\t\tsetStream(stream)\r\n\t\t\tmyVideo.current.srcObject = stream\r\n\t\t})\r\n\r\n\t// \tnavigator.getUserMedia = navigator.getUserMedia ||\r\n\t// \tnavigator.webkitGetUserMedia ||\r\n\t// \tnavigator.mozGetUserMedia;\r\n\r\n\t// if (navigator.getUserMedia) {\r\n\r\n\t// \tnavigator.getUserMedia(\r\n\t// \t\t{ video: true, audio: true },\r\n\t// \t\tfunction (stream) {\r\n\t// \t\t\tsetStream(stream)\r\n\t// \t\t\tmyVideo.current.srcObject = stream\r\n\t// \t\t},\r\n\t// \t\tfunction (err) {\r\n\t// \t\t\tconsole.log(err);\r\n\t// \t\t}\r\n\t// \t)\r\n\t// }\r\n\r\n\t\tsocket.on(\"me\", (id) => {\r\n\t\t\tsetMe(id)\r\n\r\n\t\t\tconsole.log(id);\r\n\r\n\t\t\tif ( props.location.userId !== undefined ) {\r\n\t\t\t\tfetch(`https://tele-rehab-api.vps-touchit.space/users/${props.location.userId}`, {\r\n\t\t\t\t\tmethod: 'PUT',\r\n\t\t\t\t\tmode: 'cors',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({video_chat_url: id})\r\n\t\t\t\t})\r\n\t\t\t\t.then(async (res) => { console.log( await res.json() ) })\r\n\t\t\t\t.catch(err => { console.error(err) })\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tsocket.on(\"callUser\", (data) => {\r\n\t\t\tsetReceivingCall(true)\r\n\t\t\tsetCaller(data.from)\r\n\t\t\tsetName(data.name)\r\n\t\t\tsetCallerSignal(data.signal)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { doctorId } = props.location;\r\n\r\n\t\tif ( doctorId !== undefined && stream !== undefined ) {\r\n\t\t\tcallUser(doctorId)\r\n\t\t}\r\n\r\n\t}, [stream])\r\n\r\n\r\n\tconst callUser = (id) => {\r\n\t\tconst peer = new Peer({\r\n\t\t\tinitiator: true,\r\n\t\t\ttrickle: false,\r\n\t\t\tstream: stream\r\n\t\t})\r\n\t\tpeer.on(\"signal\", (data) => {\r\n\t\t\tsocket.emit(\"callUser\", {\r\n\t\t\t\tuserToCall: id,\r\n\t\t\t\tsignalData: data,\r\n\t\t\t\tfrom: me,\r\n\t\t\t\tname: name\r\n\t\t\t})\r\n\t\t})\r\n\t\tpeer.on(\"stream\", (stream) => {\r\n\r\n\t\t\tuserVideo.current.srcObject = stream\r\n\r\n\t\t})\r\n\t\tsocket.on(\"callAccepted\", (signal) => {\r\n\t\t\tsetCallAccepted(true)\r\n\t\t\tpeer.signal(signal)\r\n\t\t})\r\n\r\n\t\tconnectionRef.current = peer\r\n\t}\r\n\r\n\tconst answerCall = () => {\r\n\t\tsetCallAccepted(true)\r\n\t\tconst peer = new Peer({\r\n\t\t\tinitiator: false,\r\n\t\t\ttrickle: false,\r\n\t\t\tstream: stream\r\n\t\t})\r\n\t\tpeer.on(\"signal\", (data) => {\r\n\t\t\tsocket.emit(\"answerCall\", { signal: data, to: caller })\r\n\t\t})\r\n\t\tpeer.on(\"stream\", (stream) => {\r\n\t\t\tuserVideo.current.srcObject = stream\r\n\t\t})\r\n\r\n\t\tpeer.signal(callerSignal)\r\n\t\tconnectionRef.current = peer\r\n\t}\r\n\r\n\tconst leaveCall = () => {\r\n\t\tsetCallEnded(true)\r\n\t\tconnectionRef.current.destroy()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1 style={{ textAlign: \"center\", color: '#fff' }}>Zoomish</h1>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"video-container\">\r\n\t\t\t\t\t<div className=\"video\">\r\n\t\t\t\t\t\t{stream && <video playsInline muted ref={myVideo} autoPlay style={{ width: \"300px\" }} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"video\">\r\n\t\t\t\t\t\t{callAccepted && !callEnded ?\r\n\t\t\t\t\t\t\t<video playsInline ref={userVideo} autoPlay style={{ width: \"300px\" }} /> :\r\n\t\t\t\t\t\t\tnull}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{receivingCall && !callAccepted ? (\r\n\t\t\t\t\t\t<div className=\"caller\">\r\n\t\t\t\t\t\t\t<h1 >{name} is calling...</h1>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\r\n\t\t\t\t\t\t\t\tAnswer\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default VideoChat\r\n","import './App.css';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n\r\n} from \"react-router-dom\";\r\nimport FrontPage from './components/FrontPage/FrontPage';\r\nimport AdminPanel from './components/AdminPanel/AdminPanel';\r\nimport PersonArea from './components/PersonArea/PersonArea';\r\nimport VideoChat from './components/VideoChat/VideoChat';\r\nimport 'reset-css';\r\nimport './style.scss';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <FrontPage />\r\n          </Route>\r\n          <Route path=\"/personal\" exact>\r\n            <PersonArea />\r\n          </Route>\r\n          <Route path=\"/admin\" exact>\r\n            <AdminPanel />\r\n          </Route>\r\n          <Route path=\"/chat\" render={props => <VideoChat {...props}> </VideoChat>} exact />\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}